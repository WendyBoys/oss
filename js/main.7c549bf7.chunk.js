(this.webpackJsonpdtrun=this.webpackJsonpdtrun||[]).push([[0],{650:function(e,t,n){},654:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(424),s=n.n(r),c=n(69),i=n.n(c),o=n(91),u=n(65),l=n(66),d=n(67),j=n(68),p=n(0),h=n.n(p),b=n(89),m=n.p+"static/media/socket.1958b6b6.svg",O=n(112),f=n.n(O),x=n(435),g=n(661),y=n(662),v=n(670),w=n(672),k=n(86),S=n(679),C=n(680),I=n(16),N=n.n(I),F=n(42),B=n(386),T=n.n(B).a.create({baseURL:"https://dtrun.cn/api",headers:{token:f.a.load("token")}});function R(e,t,n){return new Promise((function(a,r){if("post"===t)T.post(e,n,{headers:{token:f.a.load("token")}}).then((function(e){a(e)}),(function(e){r(e)})).catch((function(e){r(e)}));else if("get"===t){var s="?";if(n)for(var c in n)s+=c+"="+n[c]+"&";T.get(e+s.substring(0,s.length-1),{headers:{token:f.a.load("token")}}).then((function(e){a(e)}),(function(e){r(e)})).catch((function(e){r(e)}))}else"put"===t&&T.put(e,n,{headers:{token:f.a.load("token")}}).then((function(e){a(e)}),(function(e){r(e)})).catch((function(e){r(e)}))}))}function L(e){return D.apply(this,arguments)}function D(){return(D=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/user/login","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/user/logout","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return P.apply(this,arguments)}function P(){return(P=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/user/register","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/user/getCurrentUser","get",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/user/modifyPassword","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/user/getMessage","get",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onFinish=function(t){L({account:t.account,password:t.password}).then((function(t){var n=t.data.message,a=t.data.data;if("Success"===n){var r=new Date((new Date).getTime()+6048e5);f.a.save("token",a,{path:"/",expires:r}),e.props.history.push({pathname:"/index"})}else"LoginRefuse"===n?x.a.error({message:"\u901a\u77e5",description:"\u8d26\u53f7\u5df2\u88ab\u5c01\u7981",duration:2}):"LoginIpLimit"===n?x.a.error({message:"\u901a\u77e5",description:"IP\u5730\u5740\u4e0d\u5728\u767d\u540d\u5355\u4e2d\uff0c\u65e0\u6cd5\u767b\u9646",duration:2}):x.a.error({message:"\u901a\u77e5",description:"\u8d26\u53f7\u6216\u5bc6\u7801\u9519\u8bef",duration:2})}))},e}return Object(l.a)(n,[{key:"register",value:function(){this.props.history.push("/register")}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsxs)(g.a,{style:{textAlign:"center",marginTop:"20px"},children:[Object(a.jsx)(y.a,{span:6}),Object(a.jsx)(y.a,{span:12,children:Object(a.jsx)("h1",{children:"\u8de8\u5e73\u53f0\u7684\u7f51\u7edc\u4e91\u76d8\u6570\u636e\u8fc1\u79fb\u7cfb\u7edf"})}),Object(a.jsx)(y.a,{span:6})]}),Object(a.jsxs)(g.a,{style:{marginBottom:"5%",paddingTop:"20px",minHeight:"200px"},children:[Object(a.jsx)(y.a,{span:6}),Object(a.jsx)(y.a,{span:12,children:Object(a.jsx)("img",{src:m,alt:"",width:"100%",height:"200px"})}),Object(a.jsx)(y.a,{span:6})]}),Object(a.jsxs)(g.a,{children:[Object(a.jsx)(y.a,{span:6}),Object(a.jsx)(y.a,{span:12,children:Object(a.jsx)("div",{children:Object(a.jsxs)(v.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:this.onFinish,children:[Object(a.jsx)(v.a.Item,{name:"account",label:"\u8d26\u53f7",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8d26\u53f7"}],children:Object(a.jsx)(w.a,{prefix:Object(a.jsx)(S.a,{className:"site-form-item-icon"}),placeholder:"\u8bf7\u8f93\u5165\u8d26\u53f7"})}),Object(a.jsx)(v.a.Item,{name:"password",label:"\u5bc6\u7801",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}],children:Object(a.jsx)(w.a.Password,{prefix:Object(a.jsx)(C.a,{className:"site-form-item-icon"}),type:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"})}),Object(a.jsx)(v.a.Item,{children:Object(a.jsx)("a",{className:"login-form-forgot",href:"",children:"\u5fd8\u8bb0\u5bc6\u7801"})}),Object(a.jsxs)(v.a.Item,{children:[Object(a.jsx)(k.a,{type:"primary",htmlType:"submit",className:"login-form-button",style:{marginBottom:"20px"},children:"\u767b\u5f55"}),Object(a.jsx)(k.a,{type:"primary",htmlType:"button",className:"login-form-button",onClick:function(){return e.register()},children:"\u7acb\u5373\u6ce8\u518c"})]})]})})}),Object(a.jsx)(y.a,{span:6})]}),Object(a.jsxs)(g.a,{style:{textAlign:"center"},children:[Object(a.jsx)(y.a,{span:6}),Object(a.jsx)(y.a,{span:12,style:{position:"absolute",left:"45%",bottom:"10px"},children:Object(a.jsx)("a",{href:"http://beian.miit.gov.cn",children:"\u8c6bICP\u59072020036555\u53f7"})}),Object(a.jsx)(y.a,{span:6})]})]})}}]),n}(h.a.Component),V=n(19),K=n(15),U=n(425),H=n(674),J=n(663),Q=n(677),Y={height:"510px",color:"#fff",width:"100%",textAlign:"center",background:"#364d79"},G=function(){var e=Object(p.useState)([]),t=Object(K.a)(e,2),n=t[0],r=t[1];Object(p.useEffect)((function(){s()}),[]);var s=function(){(function(e){return M.apply(this,arguments)})().then((function(e){var t=e.data.message,n=e.data.data;"Success"===t&&r(JSON.parse(n))}))},c={data:n,xField:"date",yField:"value",yAxis:{label:{formatter:function(e){return"".concat(e).replace(/\d{1,3}(?=(\d{3})+$)/g,(function(e){return"".concat(e,",")}))}}},legend:{position:"top"},seriesField:"type",color:function(e){var t=e.type;return"\u8fd0\u884c\u5185\u5b58"===t?"#F4664A":"\u78c1\u76d8\u7528\u91cf"===t?"#30BF78":"#FAAD14"},lineStyle:function(e){return"register"===e.type?{lineDash:[4,4],opacity:1}:{opacity:.5}}};return Object(a.jsxs)("div",{style:{height:"40%"},children:[Object(a.jsxs)(g.a,{style:{height:"100%",padding:"10px",textAlign:"center"},children:[Object(a.jsx)(y.a,{span:8,style:{height:"40%",paddingRight:"10px"},children:Object(a.jsx)(H.a,{status:"success",title:"\u6b22\u8fce\u4f7f\u7528DTRUN\u8fc1\u79fb\u7cfb\u7edf",subTitle:"Welcome to DTRUN System,If you need help, please contact qq:9673640",extra:[Object(a.jsx)(k.a,{type:"primary",children:Object(a.jsx)(o.b,{to:"/datasource/show",children:"\u521b\u5efa\u6570\u636e\u6e90"})},"console"),Object(a.jsx)("a",{href:"http://dtrun.cn:8000/dtrun%E7%B3%BB%E7%BB%9F%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.docx",children:"\u4f7f\u7528\u6559\u7a0b"})]})}),Object(a.jsx)(y.a,{span:16,children:Object(a.jsx)(U.a,Object(V.a)(Object(V.a)({},c),{},{style:{maxHeight:"500px",height:"40%",minHeight:"350px"}}))})]}),Object(a.jsxs)(J.a,{autoplay:!0,style:{padding:"20px 20px 0 20px"},children:[Object(a.jsx)("div",{children:Object(a.jsx)(Q.a,{src:"https://cdn.jsdelivr.net/gh/WendyBoys/oss/img/a.jpg",style:Y,width:"100%",placeholder:Object(a.jsx)(Q.a,{preview:!1,src:"https://cdn.jsdelivr.net/gh/WendyBoys/oss/img/a.jpg"})})}),Object(a.jsx)("div",{children:Object(a.jsx)(Q.a,{src:"https://cdn.jsdelivr.net/gh/WendyBoys/oss/img/b.jpg",style:Y,width:"100%",placeholder:Object(a.jsx)(Q.a,{preview:!1,src:"https://cdn.jsdelivr.net/gh/WendyBoys/oss/img/b.jpg"})})}),Object(a.jsx)("div",{children:Object(a.jsx)(Q.a,{src:"https://cdn.jsdelivr.net/gh/WendyBoys/oss/img/c.jpg",style:Y,width:"100%",placeholder:Object(a.jsx)(Q.a,{preview:!1,src:"https://cdn.jsdelivr.net/gh/WendyBoys/oss/img/c.jpg"})})})]})]})};function $(){return($=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/dtsource/findAll","get",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return X.apply(this,arguments)}function X(){return(X=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/dtsource/connection","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/dtsource/delete","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/dtsource/testconnection","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return(ne=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/dtsource/create","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){return(ae=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/dtsource/getDtSourceById","get",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/dtsource/update","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/dtsource/getAllDtSourceName","get",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/dtsource/getBucketLists","get",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e){return le.apply(this,arguments)}function le(){return(le=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/dtsource/createBucket","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var de=n(678),je=n(404),pe=n(669),he=n(428),be=function(e){var t=Object(p.useState)([]),n=Object(K.a)(t,2),r=n[0],s=n[1],c=Object(p.useState)([]),i=Object(K.a)(c,2),o=i[0],u=i[1],l=Object(p.useState)(!1),d=Object(K.a)(l,2),j=d[0],h=d[1],b=Object(p.useState)(!1),m=Object(K.a)(b,2),O=m[0],f=m[1],g=Object(p.useState)(!1),y=Object(K.a)(g,2),v=y[0],w=y[1],S=Object(p.useState)(""),C=Object(K.a)(S,2),I=C[0],N=C[1],F=Object(p.useState)([]),B=Object(K.a)(F,2),T=B[0],R=B[1];Object(p.useEffect)((function(){L()}),[]);var L=function(){f(!0),function(e){return $.apply(this,arguments)}().then((function(e){var t=e.data.message,n=e.data.data;"Success"===t?(s(n),f(!1)):f(!1)}))},D=[{title:"\u6570\u636e\u6e90\u540d\u79f0",dataIndex:"dtSourceName",render:function(t,n){return Object(a.jsx)("span",{style:{color:"#0062FF",cursor:"pointer"},onClick:function(){return t=n.id,void e.history.push("/datasource/update/"+t);var t},children:t})}},{title:"\u6570\u636e\u6e90\u7c7b\u578b",dataIndex:"dtSourceType"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime"},{title:"\u64cd\u4f5c",dataIndex:"option",render:function(e,t){return Object(a.jsxs)(de.b,{size:"middle",children:[Object(a.jsx)("span",{style:{color:"#0062FF",cursor:"pointer",marginRight:"10px"},onClick:function(){return e=t.id,f(!0),void _({id:e}).then((function(e){"Success"===e.data.message?(f(!1),x.a.success({message:"\u901a\u77e5",description:"\u6d4b\u8bd5\u6210\u529f",duration:1})):x.a.error({message:"\u901a\u77e5",description:"\u6d4b\u8bd5\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u60a8\u7684\u53c2\u6570\u8bbe\u7f6e",duration:1}),f(!1)}));var e},children:"\u6d4b\u8bd5"}),Object(a.jsx)("span",{style:{color:"#0062FF",cursor:"pointer",marginRight:"10px"},onClick:function(){return function(e,t){var n=T.length;if(n<=1){N("\u60a8\u786e\u5b9a\u8981\u5220\u9664\u6570\u636e\u6e90 "+t+" \u5417?");var a=[];a.push(e),u(a)}else N("\u60a8\u786e\u5b9a\u8981\u5220\u9664\u9009\u4e2d\u7684"+n+"\u9879\u6570\u636e\u6e90\u5417?"),u(T);h(!0)}(t.id,t.dtSourceName)},children:"\u5220\u9664"})]})}}],A={selectedRowKeys:T,onChange:function(e){R(e)}};return Object(a.jsxs)(je.a,{size:"large",spinning:O,children:[Object(a.jsxs)("div",{style:{height:"50px",paddingTop:"10px"},children:[Object(a.jsx)(k.a,{type:"primary",onClick:function(){return L()},style:{background:"#00b4ed",position:"absolute",right:"83px",zIndex:"999",borderRadius:"5px"},children:"\u5237\u65b0"}),Object(a.jsx)(k.a,{type:"primary",onClick:function(){e.history.push("/datasource/create")},style:{background:"#00b4ed",position:"absolute",right:"11px",zIndex:"999",borderRadius:"5px"},children:"\u521b\u5efa"})]}),Object(a.jsx)("div",{style:{height:"10px",background:"#f0f2f5"}}),Object(a.jsxs)("div",{style:{padding:"10px",background:"#ffffff"},children:[Object(a.jsx)("div",{children:Object(a.jsx)(pe.a,{rowSelection:A,bordered:!0,columns:D,dataSource:r,pagination:{showQuickJumper:!0,defaultPageSize:10,pageSizeOptions:[10,20,50,100]}})}),Object(a.jsx)(he.a,{title:"\u5220\u9664\u6570\u636e\u6e90",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",visible:j,onOk:function(){w(!0),function(e){return Z.apply(this,arguments)}({data:{id:o}}).then((function(e){"Success"===e.data.message?(u([]),h(!1),w(!1),L(),x.a.success({message:"\u901a\u77e5",description:"\u5220\u9664\u6210\u529f",duration:1})):x.a.error({message:"\u901a\u77e5",description:"\u5220\u9664\u5931\u8d25",duration:1})}))},confirmLoading:v,onCancel:function(){h(!1)},children:Object(a.jsx)("p",{children:I})})]})]})},me=n(213),Oe=me.a.Option,fe={labelCol:{span:3},wrapperCol:{span:12}},xe={wrapperCol:{offset:3,span:16}},ge=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).formRef=h.a.createRef(),a.onFinish=function(e){(function(e){return ne.apply(this,arguments)})({dataSourceName:e.dtsName,dataSourceType:e.dtsType,secretId:e.accessKey,secretKey:e.accessSecret,region:e.region}).then((function(e){var t=e.data.message;"Success"===t?(a.props.history.push("/datasource/show"),x.a.success({message:"\u901a\u77e5",description:"\u521b\u5efa\u6210\u529f",duration:1})):"CreateRepeat"===t?x.a.error({message:"\u901a\u77e5",description:"\u521b\u5efa\u5931\u8d25\uff0c\u8bf7\u4e0d\u8981\u4f7f\u7528\u5df2\u5b58\u5728\u7684\u6570\u636e\u6e90\u540d\u79f0",duration:1}):x.a.error({message:"\u901a\u77e5",description:"\u521b\u5efa\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u60a8\u7684\u53c2\u6570\u8bbe\u7f6e",duration:1})}))},a}return Object(l.a)(n,[{key:"test",value:function(){this.formRef.current.validateFields().then((function(e){ee({dataSourceType:e.dtsType,accessKey:e.accessKey,accessSecret:e.accessSecret,region:e.region}).then((function(e){"Success"===e.data.message?x.a.success({message:"\u901a\u77e5",description:"\u6d4b\u8bd5\u6210\u529f",duration:1}):x.a.error({message:"\u901a\u77e5",description:"\u6d4b\u8bd5\u5931\u8d25,\u8bf7\u68c0\u67e5\u53c2\u6570",duration:1})}))})).catch((function(e){}))}},{key:"quit",value:function(){this.props.history.goBack()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{style:{padding:"10px"},children:[Object(a.jsx)("h2",{children:"\u521b\u5efa\u6570\u636e\u6e90"}),Object(a.jsx)(g.a,{children:Object(a.jsx)(y.a,{span:24,children:Object(a.jsxs)(v.a,Object(V.a)(Object(V.a)({},fe),{},{ref:this.formRef,name:"basic",initialValues:{remember:!0},onFinish:this.onFinish,children:[Object(a.jsx)(v.a.Item,{label:"\u6570\u636e\u6e90\u540d\u79f0",name:"dtsName",tooltip:"\u8bf7\u4e0d\u8981\u4f7f\u7528\u91cd\u590d\u7684\u6570\u636e\u6e90\u540d\u79f0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6570\u636e\u6e90\u540d\u79f0"}],children:Object(a.jsx)(w.a,{style:{width:600},placeholder:"\u8bf7\u8f93\u5165\u6570\u636e\u6e90\u540d\u79f0"})}),Object(a.jsx)(v.a.Item,{tooltip:"COS\uff1a\u817e\u8baf\u4e91\u6570\u636e\u6e90\u7c7b\u578b\uff0cOSS\uff1a\u963f\u91cc\u4e91\u6570\u636e\u6e90\u7c7b\u578b\uff0cOBS:\u534e\u4e3a\u4e91\u6570\u636e\u6e90\u7c7b\u578b\uff0cBOS\uff1a\u767e\u5ea6\u4e91\u6570\u636e\u6e90\u7c7b\u578b",name:"dtsType",label:"\u6570\u636e\u6e90\u7c7b\u578b",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90\u7c7b\u578b"}],children:Object(a.jsxs)(me.a,{style:{width:600},placeholder:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90\u7c7b\u578b",onChange:this.onGenderChange,allowClear:!0,children:[Object(a.jsx)(Oe,{value:"cos",children:"\u817e\u8baf\u4e91COS"}),Object(a.jsx)(Oe,{value:"oss",children:"\u963f\u91cc\u4e91OSS"}),Object(a.jsx)(Oe,{value:"obs",children:"\u534e\u4e3a\u4e91OBS"})]})}),Object(a.jsx)(v.a.Item,{tooltip:" \u767b\u5f55\u4e91\u670d\u52a1\u7f51\u7ad9\u540e\u5728API \u5bc6\u94a5\u4e2d\u67e5\u770b,API \u5bc6\u94a5\u662f\u6784\u5efa\u4e91 API \u8bf7\u6c42\u7684\u91cd\u8981\u51ed\u8bc1\uff0c\u4f7f\u7528 API \u53ef\u4ee5\u64cd\u4f5c\u60a8\u540d\u4e0b\u7684\u6240\u6709\u4e91\u8d44\u6e90\u3002",label:"AccessKey",name:"accessKey",rules:[{required:!0,message:"\u8bf7\u8f93\u5165AccessKey"}],children:Object(a.jsx)(w.a,{style:{width:600},placeholder:"\u8bf7\u8f93\u5165AccessKey"})}),Object(a.jsx)(v.a.Item,{tooltip:" \u767b\u5f55\u4e91\u670d\u52a1\u7f51\u7ad9\u540e\u5728API \u5bc6\u94a5\u4e2d\u67e5\u770b,API \u5bc6\u94a5\u662f\u6784\u5efa\u4e91 API \u8bf7\u6c42\u7684\u91cd\u8981\u51ed\u8bc1\uff0c\u4f7f\u7528 API \u53ef\u4ee5\u64cd\u4f5c\u60a8\u540d\u4e0b\u7684\u6240\u6709\u4e91\u8d44\u6e90\u3002",label:"AccessSecret",name:"accessSecret",rules:[{required:!0,message:"\u8bf7\u8f93\u5165AccessSecret"}],children:Object(a.jsx)(w.a,{style:{width:600},placeholder:"\u8bf7\u8f93\u5165AccessSecret"})}),Object(a.jsx)(v.a.Item,{tooltip:"\u767b\u5f55\u4e91\u670d\u52a1\u7f51\u7ad9\u540e\u5728\u5bf9\u8c61\u5b58\u50a8\u4e2d\u7684 Bucket \u5217\u8868 \u53ef\u67e5\u770b\u6240\u6709\u6570\u636e\u6e90\u5730\u57df",label:"\u5730\u57df",name:"region",rules:[{message:"\u8bf7\u8f93\u5165\u5730\u57df"}],children:Object(a.jsx)(w.a,{style:{width:600},placeholder:"\u8bf7\u8f93\u5165\u5730\u57df"})}),Object(a.jsxs)(v.a.Item,Object(V.a)(Object(V.a)({},xe),{},{children:[Object(a.jsx)(k.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"},children:"\u786e\u5b9a"}),Object(a.jsx)(k.a,{htmlType:"button",onClick:function(){return e.test()},style:{marginRight:"10px"},children:"\u6d4b\u8bd5"}),Object(a.jsx)(k.a,{htmlType:"button",onClick:function(){return e.quit()},children:"\u53d6\u6d88"})]}))]}))})})]})}}]),n}(h.a.Component),ye=me.a.Option,ve={labelCol:{span:3},wrapperCol:{span:12}},we={wrapperCol:{offset:3,span:16}},ke=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).formRef=h.a.createRef(),a.onFinish=function(e){(function(e){return re.apply(this,arguments)})({id:a.props.match.params.id,dataSourceName:e.dtsName,dataSourceType:e.dtsType,secretId:e.accessKey,secretKey:e.accessSecret,region:e.region}).then((function(e){var t=e.data.message;"Success"===t?(x.a.success({message:"\u901a\u77e5",description:"\u4fee\u6539\u6210\u529f",duration:1}),a.props.history.push("/datasource/show")):"CreateRepeat"===t?x.a.error({message:"\u901a\u77e5",description:"\u4fee\u6539\u5931\u8d25\uff0c\u8bf7\u4e0d\u8981\u4f7f\u7528\u91cd\u590d\u6216\u5df2\u5b58\u5728\u7684\u6570\u636e\u6e90\u540d\u79f0",duration:1}):x.a.error({message:"\u901a\u77e5",description:"\u4fee\u6539\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u60a8\u7684\u53c2\u6570\u8bbe\u7f6e",duration:1})}))},a}return Object(l.a)(n,[{key:"componentWillMount",value:function(){var e=this;(function(e){return ae.apply(this,arguments)})({id:this.props.match.params.id}).then((function(t){if("Success"===t.data.message){var n=t.data.data,a=JSON.parse(n.dtSourceJson);e.formRef.current.setFieldsValue({dtsName:n.dtSourceName,dtsType:n.dtSourceType,accessKey:a.accessKey,accessSecret:a.accessSecret,region:a.region})}else x.a.error({message:"\u901a\u77e5",description:"\u83b7\u53d6\u6570\u636e\u6e90\u4fe1\u606f\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",duration:1})}))}},{key:"test",value:function(){this.formRef.current.validateFields().then((function(e){ee({dataSourceType:e.dtsType,accessKey:e.accessKey,accessSecret:e.accessSecret,region:e.region}).then((function(e){"Success"===e.data.message?x.a.success({message:"\u901a\u77e5",description:"\u6d4b\u8bd5\u6210\u529f",duration:1}):x.a.error({message:"\u901a\u77e5",description:"\u6d4b\u8bd5\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u53c2\u6570",duration:1})}))}))}},{key:"quit",value:function(){this.props.history.goBack()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{style:{padding:"10px"},children:[Object(a.jsx)("h2",{children:"\u4fee\u6539\u6570\u636e\u6e90"}),Object(a.jsx)(g.a,{children:Object(a.jsx)(y.a,{span:24,children:Object(a.jsxs)(v.a,Object(V.a)(Object(V.a)({},ve),{},{ref:this.formRef,name:"basic",initialValues:{remember:!0},onFinish:this.onFinish,children:[Object(a.jsx)(v.a.Item,{label:"\u6570\u636e\u6e90\u540d\u79f0",name:"dtsName",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6570\u636e\u6e90\u540d\u79f0"}],children:Object(a.jsx)(w.a,{placeholder:"\u8bf7\u8f93\u5165\u6570\u636e\u6e90\u540d\u79f0"})}),Object(a.jsx)(v.a.Item,{name:"dtsType",label:"\u6570\u636e\u6e90\u7c7b\u578b",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90\u7c7b\u578b"}],children:Object(a.jsxs)(me.a,{placeholder:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90\u7c7b\u578b",onChange:this.onGenderChange,allowClear:!0,children:[Object(a.jsx)(ye,{value:"cos",children:"\u817e\u8baf\u4e91COS"}),Object(a.jsx)(ye,{value:"oss",children:"\u963f\u91cc\u4e91OSS"}),Object(a.jsx)(ye,{value:"obs",children:"\u534e\u4e3a\u4e91OBS"})]})}),Object(a.jsx)(v.a.Item,{label:"AccessKey",name:"accessKey",rules:[{required:!0,message:"\u8bf7\u8f93\u5165AccessKey"}],children:Object(a.jsx)(w.a,{placeholder:"\u8bf7\u8f93\u5165AccessKey"})}),Object(a.jsx)(v.a.Item,{label:"AccessSecret",name:"accessSecret",rules:[{required:!0,message:"\u8bf7\u8f93\u5165AccessSecret"}],children:Object(a.jsx)(w.a,{placeholder:"\u8bf7\u8f93\u5165AccessSecret"})}),Object(a.jsx)(v.a.Item,{label:"\u5730\u57df",name:"region",rules:[{message:"\u8bf7\u8f93\u5165\u5730\u57df"}],children:Object(a.jsx)(w.a,{placeholder:"\u8bf7\u8f93\u5165\u5730\u57df"})}),Object(a.jsxs)(v.a.Item,Object(V.a)(Object(V.a)({},we),{},{children:[Object(a.jsx)(k.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"},children:"\u786e\u5b9a"}),Object(a.jsx)(k.a,{htmlType:"button",onClick:function(){return e.test()},style:{marginRight:"10px"},children:"\u6d4b\u8bd5"}),Object(a.jsx)(k.a,{htmlType:"button",onClick:function(){return e.quit()},children:"\u53d6\u6d88"})]}))]}))})})]})}}]),n}(h.a.Component),Se=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{path:"/datasource/create",component:ge}),Object(a.jsx)(b.b,{path:"/datasource/show",component:be}),Object(a.jsx)(b.b,{path:"/datasource/update/:id",component:ke}),Object(a.jsx)(b.a,{to:"/datasource/show"})]})})}}]),n}(h.a.Component),Ce=n(664),Ie=n(212),Ne=n(665),Fe=n(671),Be=n(417),Te=n(129),Re=n.n(Te);function Le(){return(Le=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/contact/findAll","get",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(){return(De=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/contact/delete","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(){return(Ae=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/contact/createContact","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(){return(qe=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/contact/getContactById","get",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(){return(Pe=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/contact/updateContact","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/contact/findAll","get",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(e){return We.apply(this,arguments)}function We(){return(We=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/movetask/findAll","get",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ve(){return(Ve=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/movetask/delete","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(){return(Ke=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/movetask/run","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(){return(Ue=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/movetask/quit","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(){return(He=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/movetask/create","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(){return(Je=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/movetask/getMoveTaskById","get",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(){return(Qe=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/movetask/update","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/movetask/getResultById","get",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $e=n(681),_e=Ce.a.Step,Xe=me.a.Option,Ze={labelCol:{span:4},wrapperCol:{span:16}},et=function(e){var t=Object(p.useState)(!1),n=Object(K.a)(t,2),r=n[0],s=n[1],c=Object(p.useState)(0),i=Object(K.a)(c,2),o=i[0],u=i[1],l=Object(p.useState)({}),d=Object(K.a)(l,2),j=d[0],h=d[1],b=Object(p.useState)(!0),m=Object(K.a)(b,2),O=m[0],f=m[1],g=Object(p.useState)(!1),y=Object(K.a)(g,2),S=y[0],C=y[1],I=Object(p.useState)([]),N=Object(K.a)(I,2),F=N[0],B=N[1],T=Object(p.useState)([]),R=Object(K.a)(T,2),L=R[0],D=R[1],A=Object(p.useState)([]),q=Object(K.a)(A,2),P=q[0],z=q[1],E=Object(p.useState)([]),M=Object(K.a)(E,2),W=M[0],U=M[1],H=Object(p.useState)(!1),J=Object(K.a)(H,2),Q=J[0],Y=J[1],G=Object(p.useState)([]),$=Object(K.a)(G,2),_=$[0],X=$[1],Z=v.a.useForm(),ee=Object(K.a)(Z,1)[0];Object(p.useEffect)((function(){s(!0),se().then((function(e){"Success"===e.data.message?B(e.data.data):x.a.error({message:"\u901a\u77e5",description:"\u83b7\u53d6\u6570\u636e\u6e90\u5217\u8868\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u6570\u636e\u6e90\u914d\u7f6e",duration:2}),s(!1)}))}),[]);var te=function(){u(o-1)},ne=function(){ue({desId:ee.getFieldValue("desId"),newBucketName:_}).then((function(e){"Success"===e.data.message?(X([]),x.a.success({message:"\u901a\u77e5",description:"\u521b\u5efaBucket\u6210\u529f",duration:2}),z(e.data.data)):x.a.error({message:"\u901a\u77e5",description:"\u521b\u5efaBucket\u5217\u8868\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u914d\u7f6e",duration:2})}))};var ae=function(e){X(e.target.value)},re=[{title:"\u9009\u62e9\u521d\u59cb\u6570\u636e\u6e90",content:Object(a.jsxs)(v.a,Object(V.a)(Object(V.a)({},Ze),{},{name:"basic",form:ee,onFinish:function(e){h(Object(V.a)(Object(V.a)({},j),{},{src:e,allMove:O})),u(o+1)},children:[Object(a.jsx)(v.a.Item,{tooltip:"\u9009\u62e9\u6e90\u7aef\u6570\u636e\u6e90",label:"\u6570\u636e\u6e90",name:"srcId",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90"}],children:Object(a.jsx)(me.a,{placeholder:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90",allowClear:!0,showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},onChange:function(e){s(!0),ee.setFieldsValue({srcBucket:void 0}),D([]),ie({id:e}).then((function(e){"Success"===e.data.message?D(e.data.data):x.a.error({message:"\u901a\u77e5",description:"\u83b7\u53d6Bucket\u5217\u8868\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u6570\u636e\u6e90\u914d\u7f6e",duration:2}),s(!1)}))},children:F.map((function(e,t){return Object(a.jsx)(Xe,{value:e.id,children:e.dtSourceName},t)}))})}),Object(a.jsx)(v.a.Item,{tooltip:"\u9009\u62e9\u4f60\u6240\u8981\u8fc1\u79fb\u7684Bucket",name:"srcBucket",label:"Bucket",rules:[{required:!0,message:"\u8bf7\u9009\u62e9Bucket"}],children:Object(a.jsx)(me.a,{placeholder:"\u8bf7\u9009\u62e9Bucket",allowClear:!0,showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},children:L.map((function(e,t){return Object(a.jsx)(Xe,{value:e,children:e},t)}))})}),Object(a.jsx)(v.a.Item,{label:"\u5168\u91cf\u8fc1\u79fb",children:Object(a.jsx)(Ie.a,{onChange:function(){f(!O)},checked:O})}),!O&&Object(a.jsxs)("div",{children:[Object(a.jsx)(v.a.Item,{label:"\u8bf7\u8f93\u5165\u6587\u4ef6\u540d\u524d\u7f00",name:"fileNameStart",children:Object(a.jsx)(w.a,{placeholder:"\u8bf7\u8f93\u5165\u6587\u4ef6\u540d\u524d\u7f00"})}),Object(a.jsx)(v.a.Item,{label:"\u8bf7\u8f93\u5165\u6587\u4ef6\u540d\u540e\u7f00",name:"fileNameEnd",children:Object(a.jsx)(w.a,{placeholder:"\u8bf7\u8f93\u5165\u6587\u4ef6\u540d\u540e\u7f00"})})]}),Object(a.jsxs)(v.a.Item,{children:[Object(a.jsx)(k.a,{htmlType:"button",style:{margin:"0 10px 0 25%"},onClick:function(){e.history.goBack()},children:"\u53d6\u6d88"}),Object(a.jsx)(k.a,{type:"primary",htmlType:"submit",children:"\u4e0b\u4e00\u6b65"})]})]}))},{title:"\u9009\u62e9\u76ee\u7684\u6570\u636e\u6e90",content:Object(a.jsxs)(v.a,Object(V.a)(Object(V.a)({},Ze),{},{name:"basic",form:ee,onFinish:function(e){h(Object(V.a)(Object(V.a)({},j),{},{des:e})),u(o+1)},children:[Object(a.jsx)(v.a.Item,{tooltip:"\u9009\u62e9\u76ee\u7684\u6570\u636e\u6e90",label:"\u6570\u636e\u6e90",name:"desId",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90"}],children:Object(a.jsx)(me.a,{placeholder:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90",allowClear:!0,showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},onChange:function(e){s(!0),ee.setFieldsValue({desBucket:void 0}),z([]),ie({id:e}).then((function(e){"Success"===e.data.message?(z(e.data.data),Y(!0)):x.a.error({message:"\u901a\u77e5",description:"\u83b7\u53d6Bucket\u5217\u8868\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u6570\u636e\u6e90\u914d\u7f6e",duration:2}),s(!1)}))},children:F.map((function(e,t){return Object(a.jsx)(Xe,{value:e.id,children:e.dtSourceName},t)}))})}),Object(a.jsx)(v.a.Item,{tooltip:"\u9009\u62e9\u4f60\u6240\u9700\u8981\u8fc1\u79fb\u5230\u7684Bucket",name:"desBucket",label:"Bucket",rules:[{required:!0,message:"\u8bf7\u9009\u62e9Bucket"}],children:Object(a.jsx)(me.a,{placeholder:"\u8bf7\u9009\u62e9Bucket",allowClear:!0,showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},dropdownRender:function(e){return Object(a.jsxs)("div",{children:[e,Q&&Object(a.jsxs)("div",{children:[Object(a.jsx)(Ne.a,{style:{margin:"4px 0"}}),Object(a.jsxs)("div",{style:{display:"flex",flexWrap:"nowrap",padding:8},children:[Object(a.jsx)(w.a,{style:{flex:"auto"},value:_,onChange:ae}),Object(a.jsxs)("a",{style:{flex:"none",padding:"8px",display:"block",cursor:"pointer"},onClick:ne,children:[Object(a.jsx)($e.a,{})," \u521b\u5efaBucket"]})]})]})]})},children:P.map((function(e,t){return Object(a.jsx)(Xe,{value:e,children:e},t)}))})}),Object(a.jsxs)(v.a.Item,{children:[Object(a.jsx)(k.a,{type:"primary",htmlType:"button",style:{margin:"0 10px 0 25%"},onClick:te,children:"\u4e0a\u4e00\u6b65"}),Object(a.jsx)(k.a,{type:"primary",htmlType:"submit",children:"\u4e0b\u4e00\u6b65"})]})]}))},{title:"\u53c2\u6570\u8bbe\u7f6e",content:Object(a.jsxs)(v.a,Object(V.a)(Object(V.a)({},Ze),{},{name:"basic",onFinish:function(t){var n=Object(V.a)(Object(V.a)({},j),{},{option:t});(function(e){return He.apply(this,arguments)})({srcId:n.src.srcId,srcBucket:n.src.srcBucket,fileNameStart:n.src.fileNameStart,fileNameEnd:n.src.fileNameEnd,desId:n.des.desId,desBucket:n.des.desBucket,allMove:n.allMove,taskName:n.option.taskName,sendMail:S,contact:n.contact,time:n.time}).then((function(t){var n=t.data.message;"Success"===n?(x.a.success({message:"\u901a\u77e5",description:"\u521b\u5efa\u8fc1\u79fb\u4efb\u52a1\u6210\u529f",duration:2}),e.history.push("/movetask/show")):"CreateRepeat"===n?x.a.error({message:"\u901a\u77e5",description:"\u8bf7\u4e0d\u8981\u91cd\u590d\u4f7f\u7528\u8fc1\u79fb\u4efb\u52a1\u540d\u79f0",duration:2}):x.a.error({message:"\u901a\u77e5",description:"\u521b\u5efa\u8fc1\u79fb\u4efb\u52a1\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u914d\u7f6e",duration:2})}))},children:[Object(a.jsx)(v.a.Item,{tooltip:"\u8bf7\u8f93\u5165\u8fc1\u79fb\u4efb\u52a1\u540d\u79f0",label:"\u8fc1\u79fb\u4efb\u52a1\u540d\u79f0",name:"taskName",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8fc1\u79fb\u4efb\u52a1\u540d\u79f0"}],children:Object(a.jsx)(w.a,{placeholder:"\u8bf7\u8f93\u5165\u8fc1\u79fb\u4efb\u52a1\u540d\u79f0"})}),Object(a.jsx)(v.a.Item,{label:"\u4efb\u52a1\u5b8c\u6210\u901a\u77e5",name:"sendMail",children:Object(a.jsx)(Ie.a,{onChange:function(){C(!S)},checked:S})}),S&&Object(a.jsx)(v.a.Item,{tooltip:"\u5728\u63a8\u9001\u914d\u7f6e\u4e2d,\u53ef\u521b\u5efa\u8054\u7cfb\u4eba",name:"email",label:"\u8054\u7cfb\u4eba",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8054\u7cfb\u4eba"}],children:Object(a.jsx)(me.a,{placeholder:"\u8bf7\u9009\u62e9\u8054\u7cfb\u4eba",allowClear:!0,onFocus:function(e){s(!0),ee.setFieldsValue({desBucket:void 0}),z([]),ze({id:42}).then((function(e){"Success"===e.data.message?U(e.data.data):x.a.error({message:"\u901a\u77e5",description:"\u83b7\u53d6\u8054\u7cfb\u4eba\u5217\u8868\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u914d\u7f6e",duration:2}),s(!1)}))},onChange:function(e){h(Object(V.a)(Object(V.a)({},j),{},{contact:e}))},children:W.map((function(e,t){return Object(a.jsx)(Xe,{value:e.contactEmail,children:e.contactName},t)}))})}),Object(a.jsx)(v.a.Item,{tooltip:"\u53ef\u4ee5\u6307\u5b9a\u5f00\u59cb\u542f\u52a8\u7684\u65f6\u95f4",name:"time",label:"\u5b9a\u65f6\u6267\u884c",children:Object(a.jsx)(Fe.a,{format:"YYYY-MM-DD HH:mm:ss",showTime:!0,onChange:function(e){h(Object(V.a)(Object(V.a)({},j),{},{time:null===e||void 0===e?void 0:e.format("yyyy-MM-DD HH:mm:ss")}))}})}),Object(a.jsxs)(v.a.Item,{children:[Object(a.jsx)(k.a,{type:"primary",htmlType:"submit",style:{margin:"0 10px 0 25%"},children:"\u786e\u5b9a"}),Object(a.jsx)(k.a,{type:"primary",htmlType:"button",onClick:te,children:"\u4e0a\u4e00\u6b65"})]})]}))}];return Object(a.jsxs)(je.a,{size:"large",spinning:r,children:[Object(a.jsx)(Ce.a,{forcerender:"true",progressDot:function(e,t){t.status;var n=t.index;return Object(a.jsx)(Be.a,{content:Object(a.jsxs)("span",{children:["step ",n]}),children:e})},current:o,children:re.map((function(e){return Object(a.jsx)(_e,{title:e.title},e.title)}))}),Object(a.jsxs)("div",{className:"steps-content",children:[re[o].content,Object(a.jsx)("div",{className:"steps-action"})]})]})},tt=n(436),nt=n(437),at=n(666),rt=n(104),st=n(682),ct=n(683),it=n(684),ot=n(685),ut=n(686),lt=function(e){var t=Object(p.useState)([]),n=Object(K.a)(t,2),r=n[0],s=n[1],c=Object(p.useState)([]),i=Object(K.a)(c,2),o=i[0],u=i[1],l=Object(p.useState)([]),d=Object(K.a)(l,2),j=d[0],h=d[1],b=Object(p.useState)([]),m=Object(K.a)(b,2),O=m[0],f=m[1],g=Object(p.useState)(!1),y=Object(K.a)(g,2),v=y[0],w=y[1],S=Object(p.useState)(!1),C=Object(K.a)(S,2),I=C[0],N=C[1],F=Object(p.useState)(!1),B=Object(K.a)(F,2),T=B[0],R=B[1],L=Object(p.useState)(!1),D=Object(K.a)(L,2),A=D[0],q=D[1],P=Object(p.useState)(!1),z=Object(K.a)(P,2),E=z[0],M=z[1],W=Object(p.useState)(!1),V=Object(K.a)(W,2),U=V[0],H=V[1],J=Object(p.useState)(!1),Q=Object(K.a)(J,2),Y=Q[0],G=Q[1],$=Object(p.useState)(""),_=Object(K.a)($,2),X=_[0],Z=_[1],ee=Object(p.useState)(""),te=Object(K.a)(ee,2),ne=te[0],ae=te[1],re=Object(p.useState)(""),se=Object(K.a)(re,2),ce=se[0],ie=se[1],oe=Object(p.useState)([]),ue=Object(K.a)(oe,2),le=ue[0],be=ue[1];Object(p.useEffect)((function(){me(!0);var e=setInterval((function(){me(!1)}),5e3);return function(){clearInterval(e)}}),[]);var me=function(e){e?(q(!0),Me().then((function(e){var t=e.data.message,n=e.data.data;"Success"===t?(s(n),q(!1)):x.a.error({message:"\u901a\u77e5",description:"\u83b7\u53d6\u4efb\u52a1\u5217\u8868\u5931\u8d25",duration:2})}))):Me().then((function(e){var t=e.data.message,n=e.data.data;"Success"===t?s(n):x.a.error({message:"\u901a\u77e5",description:"\u83b7\u53d6\u4efb\u52a1\u5217\u8868\u5931\u8d25",duration:2})}))},Oe=function(e){M(!0),Ye({id:e}).then((function(e){"Success"===e.data.message?u(e.data.data):x.a.error({message:"\u901a\u77e5",description:"\u67e5\u8be2\u5931\u8d25",duration:2}),M(!1)}))},fe=function(e){G(!0),function(e){return Ke.apply(this,arguments)}({id:e}).then((function(e){"Success"===e.data.message?(G(!1),be([]),me(),tt.b.success("\u542f\u52a8\u6210\u529f")):tt.b.error("\u542f\u52a8\u5931\u8d25")}))},xe=function(e){G(!0),function(e){return Ue.apply(this,arguments)}({id:e}).then((function(e){"Success"===e.data.message?(G(!1),be([]),me(),tt.b.success("\u53d6\u6d88\u6210\u529f")):tt.b.error("\u53d6\u6d88\u5931\u8d25")}))},ge=[{title:"\u8fc1\u79fb\u4efb\u52a1\u540d\u79f0",dataIndex:"taskName",render:function(t,n){return Object(a.jsx)("span",{style:{color:"#0062FF",cursor:"pointer",disable:"true"},onClick:function(){return t=n.id,void("RUNNING"!==n.status?e.history.push("/movetask/update/"+t):tt.b.error("\u6b63\u5728\u8fd0\u884c\u4e2d\u7684\u4efb\u52a1\u65e0\u6cd5\u7f16\u8f91"));var t},children:t})}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime"},{title:"\u5f53\u524d\u72b6\u6001",dataIndex:"status",render:function(e,t){return"READY"===e?Object(a.jsx)(nt.a,{icon:Object(a.jsx)(st.a,{}),color:"cyan",children:"\u51c6\u5907\u5c31\u7eea"}):"FINISH"===e?Object(a.jsx)(nt.a,{icon:Object(a.jsx)(ct.a,{}),color:"success",children:"\u5df2\u5b8c\u6210"}):"RUNNING"===e?Object(a.jsx)(nt.a,{icon:Object(a.jsx)(it.a,{spin:!0}),color:"processing",children:"\u8fd0\u884c\u4e2d"}):"QUIT"===e?Object(a.jsx)(nt.a,{icon:Object(a.jsx)(ot.a,{}),color:"orange",children:"\u5df2\u53d6\u6d88"}):Object(a.jsx)(nt.a,{icon:Object(a.jsx)(ut.a,{}),color:"error",children:"\u6267\u884c\u5931\u8d25"})}},{title:"\u64cd\u4f5c",dataIndex:"option",render:function(e,t){return Object(a.jsxs)(de.b,{size:"middle",children:["RUNNING"===t.status?Object(a.jsx)(at.a,{title:"\u786e\u5b9a\u53d6\u6d88 "+t.taskName+" \u7684\u8fd0\u884c\u5417?",onConfirm:function(){return xe(t.id)},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",children:Object(a.jsx)("span",{style:{color:"#0062FF",cursor:"pointer",marginRight:"10px"},children:"\u53d6\u6d88"})}):Object(a.jsx)(at.a,{title:"\u786e\u5b9a\u542f\u52a8 "+t.taskName+" \u5417?",onConfirm:function(){return fe(t.id)},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",children:Object(a.jsx)("span",{style:{color:"#0062FF",cursor:"pointer",marginRight:"10px"},children:"\u542f\u52a8"})}),Object(a.jsx)("span",{style:{color:"#0062FF",cursor:"pointer",marginRight:"10px"},onClick:function(){return e=t.id,n=t.taskName,ae("\u8fc1\u79fb\u4efb\u52a1 "+n+" \u6267\u884c\u7ed3\u679c"),N(!0),ie(e),void Oe(e);var e,n},children:"\u67e5\u770b\u7ed3\u679c"}),Object(a.jsx)("span",{style:{color:"#0062FF",cursor:"pointer",marginRight:"10px"},onClick:function(){return function(e,t,n){if("RUNNING"!==t){var a=le.length;if(a<=1){Z("\u60a8\u786e\u5b9a\u8981\u5220\u9664\u8fc1\u79fb\u4efb\u52a1 "+n+" \u5417?");var r=[];r.push(e),f(r)}else Z("\u60a8\u786e\u5b9a\u8981\u5220\u9664\u9009\u4e2d\u7684"+a+"\u9879\u8fc1\u79fb\u4efb\u52a1\u5417?"),f(le);w(!0)}else tt.b.error("\u6b63\u5728\u8fd0\u884c\u4e2d\u7684\u4efb\u52a1\u65e0\u6cd5\u5220\u9664")}(t.id,t.status,t.taskName)},children:"\u5220\u9664"})]})}}],ye=[{title:"\u5f00\u59cb\u65f6\u95f4",dataIndex:"startTime"},{title:"\u7ed3\u675f\u65f6\u95f4",dataIndex:"endTime"},{title:"\u603b\u8017\u65f6",dataIndex:"timeConsume",render:function(e){return e+"\u79d2"}},{title:"\u6267\u884c\u7ed3\u679c",dataIndex:"result",render:function(e,t){return"FINISH"===e?Object(a.jsx)(nt.a,{icon:Object(a.jsx)(ct.a,{}),color:"success",children:"\u5df2\u5b8c\u6210"}):"QUIT"===e?Object(a.jsx)(nt.a,{icon:Object(a.jsx)(ot.a,{}),color:"orange",children:"\u5df2\u53d6\u6d88"}):Object(a.jsx)(nt.a,{icon:Object(a.jsx)(ut.a,{}),color:"error",children:Object(a.jsx)(rt.a,{placement:"bottom",title:t.failReason,children:"\u6267\u884c\u5931\u8d25"})})}},{title:"\u8fc1\u79fb\u6587\u4ef6\u6570\u91cf",dataIndex:"fileCount"},{title:"\u8be6\u7ec6\u4fe1\u606f",dataIndex:"mid",render:function(e){return Object(a.jsx)("span",{onClick:function(){return t=e,R(!0),H(!0),void Ye({id:t}).then((function(e){"Success"===e.data.message?h(JSON.parse(e.data.data[0].fileMessageList)):x.a.error({message:"\u901a\u77e5",description:"\u67e5\u8be2\u5931\u8d25",duration:2}),H(!1)}));var t},style:{color:"blue",cursor:"pointer"},children:"\u67e5\u770b"})}}],ve={selectedRowKeys:le,onChange:function(e){be(e)},getCheckboxProps:function(e){return{disabled:"RUNNING"===e.status}}};return Object(a.jsxs)(je.a,{size:"large",spinning:A,children:[Object(a.jsxs)("div",{style:{height:"50px",paddingTop:"10px"},children:[Object(a.jsx)(k.a,{type:"primary",onClick:function(){return me(!0)},style:{background:"#00b4ed",position:"absolute",right:"83px",zIndex:"999",borderRadius:"5px"},children:"\u5237\u65b0"}),Object(a.jsx)(k.a,{type:"primary",onClick:function(){e.history.push("/movetask/create")},style:{background:"#00b4ed",position:"absolute",right:"11px",zIndex:"999",borderRadius:"5px"},children:"\u521b\u5efa"})]}),Object(a.jsx)("div",{style:{height:"10px",background:"#f0f2f5"}}),Object(a.jsxs)("div",{style:{padding:"10px",background:"#ffffff"},children:[Object(a.jsx)("div",{children:Object(a.jsx)(pe.a,{rowSelection:ve,bordered:!0,columns:ge,dataSource:r,pagination:{showQuickJumper:!0,defaultPageSize:10,pageSizeOptions:[10,20,50,100]}})}),Object(a.jsx)(he.a,{title:"\u5220\u9664\u8fc1\u79fb\u4efb\u52a1",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",visible:v,onOk:function(){G(!0),function(e){return Ve.apply(this,arguments)}({data:{id:O}}).then((function(e){"Success"===e.data.message?(f([]),w(!1),G(!1),be([]),me(),x.a.success({message:"\u901a\u77e5",description:"\u5220\u9664\u6210\u529f",duration:1})):x.a.error({message:"\u901a\u77e5",description:"\u5220\u9664\u5931\u8d25",duration:1})}))},confirmLoading:Y,onCancel:function(){w(!1)},children:Object(a.jsx)("p",{children:X})}),Object(a.jsx)(he.a,{title:ne,centered:!0,visible:I,onOk:function(){return N(!1)},onCancel:function(){return N(!1)},width:800,footer:[Object(a.jsx)(k.a,{onClick:function(){Oe(ce)},children:"\u5237\u65b0"}),Object(a.jsx)(k.a,{type:"primary",loading:A,onClick:function(){return N(!1)},children:"\u786e\u5b9a"})],children:Object(a.jsx)(je.a,{size:"large",spinning:E,children:Object(a.jsx)(pe.a,{bordered:!0,columns:ye,dataSource:o,pagination:{showQuickJumper:!0,defaultPageSize:10,pageSizeOptions:[10,20,50,100]}})})}),Object(a.jsx)(he.a,{title:"\u8be6\u7ec6\u4fe1\u606f",centered:!0,visible:T,width:500,onCancel:function(){return R(!1)},footer:[Object(a.jsx)(k.a,{type:"primary",loading:U,onClick:function(){return R(!1)},children:"\u786e\u5b9a"})],children:Object(a.jsx)(je.a,{size:"large",spinning:U,children:Object(a.jsx)(pe.a,{bordered:!0,columns:[{title:"\u6587\u4ef6\u540d\u79f0",dataIndex:"fileName"},{title:"\u6587\u4ef6\u5927\u5c0f",dataIndex:"fileLength",render:function(e){return(e/1024).toFixed(2)+"KB"}}],dataSource:j,pagination:{showQuickJumper:!0,defaultPageSize:10,pageSizeOptions:[10,20,50,100]}})})})]})]})},dt=Ce.a.Step,jt=me.a.Option,pt={labelCol:{span:4},wrapperCol:{span:16}},ht=function(e){var t=Object(p.useState)(!1),n=Object(K.a)(t,2),r=n[0],s=n[1],c=Object(p.useState)(0),i=Object(K.a)(c,2),o=i[0],u=i[1],l=Object(p.useState)({}),d=Object(K.a)(l,2),j=d[0],h=d[1],b=Object(p.useState)(!0),m=Object(K.a)(b,2),O=m[0],f=m[1],g=Object(p.useState)(!1),y=Object(K.a)(g,2),S=y[0],C=y[1],I=Object(p.useState)([]),N=Object(K.a)(I,2),F=N[0],B=N[1],T=Object(p.useState)([]),R=Object(K.a)(T,2),L=R[0],D=R[1],A=Object(p.useState)([]),q=Object(K.a)(A,2),P=q[0],z=q[1],E=Object(p.useState)([]),M=Object(K.a)(E,2),W=M[0],U=M[1],H=Object(p.useState)(!1),J=Object(K.a)(H,2),Q=J[0],Y=J[1],G=Object(p.useState)([]),$=Object(K.a)(G,2),_=$[0],X=$[1],Z=Object(p.useState)("2021-05-29 17:51:00"),ee=Object(K.a)(Z,2),te=ee[0],ne=ee[1],ae=v.a.useForm(),re=Object(K.a)(ae,1)[0];Object(p.useEffect)((function(){s(!0),se().then((function(e){"Success"===e.data.message?B(e.data.data):x.a.error({message:"\u901a\u77e5",description:"\u83b7\u53d6\u6570\u636e\u6e90\u5217\u8868\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u6570\u636e\u6e90\u914d\u7f6e",duration:2}),s(!1)})),function(e){return Je.apply(this,arguments)}({id:e.match.params.id}).then((function(e){var t=e.data.message,n=e.data.data;if("Success"===t){var a=JSON.parse(n.taskJson);re.setFieldsValue({srcBucket:a.srcBucket}),re.setFieldsValue({desBucket:a.desBucket}),f("false"!==a.allMove),re.setFieldsValue({fileNameStart:a.fileNameStart}),re.setFieldsValue({fileNameEnd:a.fileNameEnd}),re.setFieldsValue({srcId:parseInt(a.srcId)}),re.setFieldsValue({desId:parseInt(a.desId)}),re.setFieldsValue({taskName:n.taskName}),C("false"!==a.contactChecked),re.setFieldsValue({email:a.contact}),ne(a.time),oe(parseInt(a.srcId),!1),le(parseInt(a.desId),!1)}else x.a.error({message:"\u901a\u77e5",description:"\u83b7\u53d6\u8fc1\u79fb\u4efb\u52a1\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u914d\u7f6e",duration:2});s(!1)}))}),[]);var ce=function(){u(o-1)},oe=function(e,t){s(!0),!1!==t&&(re.setFieldsValue({srcBucket:void 0}),D([])),ie({id:e}).then((function(e){"Success"===e.data.message?D(e.data.data):x.a.error({message:"\u901a\u77e5",description:"\u83b7\u53d6Bucket\u5217\u8868\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u6570\u636e\u6e90\u914d\u7f6e",duration:2}),s(!1)}))},le=function(e,t){s(!0),t&&(re.setFieldsValue({desBucket:void 0}),z([])),ie({id:e}).then((function(e){"Success"===e.data.message?(z(e.data.data),Y(!0)):(Y(!1),x.a.error({message:"\u901a\u77e5",description:"\u83b7\u53d6Bucket\u5217\u8868\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u6570\u636e\u6e90\u914d\u7f6e",duration:2})),s(!1)}))},de=function(){ue({desId:re.getFieldValue("desId"),newBucketName:_}).then((function(e){"Success"===e.data.message?(X([]),x.a.success({message:"\u901a\u77e5",description:"\u521b\u5efaBucket\u6210\u529f",duration:2}),z(e.data.data)):x.a.error({message:"\u901a\u77e5",description:"\u521b\u5efaBucket\u5217\u8868\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u914d\u7f6e",duration:2})}))},pe=function(e){X(e.target.value)},he=[{title:"\u9009\u62e9\u521d\u59cb\u6570\u636e\u6e90",content:Object(a.jsxs)(v.a,Object(V.a)(Object(V.a)({},pt),{},{name:"basic",form:re,onFinish:function(e){h(Object(V.a)(Object(V.a)({},j),{},{src:e,allMove:O})),u(o+1)},children:[Object(a.jsx)(v.a.Item,{tooltip:"\u9009\u62e9\u6e90\u7aef\u6570\u636e\u6e90",label:"\u6570\u636e\u6e90",name:"srcId",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90"}],children:Object(a.jsx)(me.a,{placeholder:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90",allowClear:!0,showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},onChange:oe,children:F.map((function(e,t){return Object(a.jsx)(jt,{value:e.id,children:e.dtSourceName},t)}))})}),Object(a.jsx)(v.a.Item,{tooltip:"\u9009\u62e9\u4f60\u6240\u8981\u8fc1\u79fb\u7684Bucket",name:"srcBucket",label:"Bucket",rules:[{required:!0,message:"\u8bf7\u9009\u62e9Bucket"}],children:Object(a.jsx)(me.a,{placeholder:"\u8bf7\u9009\u62e9Bucket",allowClear:!0,showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},children:L.map((function(e,t){return Object(a.jsx)(jt,{value:e,children:e},t)}))})}),Object(a.jsx)(v.a.Item,{label:"\u5168\u91cf\u8fc1\u79fb",children:Object(a.jsx)(Ie.a,{onChange:function(){f(!O)},checked:O})}),!O&&Object(a.jsxs)("div",{children:[Object(a.jsx)(v.a.Item,{label:"\u8bf7\u8f93\u5165\u6587\u4ef6\u540d\u524d\u7f00",name:"fileNameStart",children:Object(a.jsx)(w.a,{placeholder:"\u8bf7\u8f93\u5165\u6587\u4ef6\u540d\u524d\u7f00"})}),Object(a.jsx)(v.a.Item,{label:"\u8bf7\u8f93\u5165\u6587\u4ef6\u540d\u540e\u7f00",name:"fileNameEnd",children:Object(a.jsx)(w.a,{placeholder:"\u8bf7\u8f93\u5165\u6587\u4ef6\u540d\u540e\u7f00"})})]}),Object(a.jsxs)(v.a.Item,{children:[Object(a.jsx)(k.a,{htmlType:"button",style:{margin:"0 10px 0 25%"},onClick:function(){e.history.goBack()},children:"\u53d6\u6d88"}),Object(a.jsx)(k.a,{type:"primary",htmlType:"submit",children:"\u4e0b\u4e00\u6b65"})]})]}))},{title:"\u9009\u62e9\u76ee\u7684\u6570\u636e\u6e90",content:Object(a.jsxs)(v.a,Object(V.a)(Object(V.a)({},pt),{},{name:"basic",form:re,onFinish:function(e){h(Object(V.a)(Object(V.a)({},j),{},{des:e})),u(o+1)},children:[Object(a.jsx)(v.a.Item,{tooltip:"\u9009\u62e9\u76ee\u7684\u6570\u636e\u6e90",label:"\u6570\u636e\u6e90",name:"desId",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90"}],children:Object(a.jsx)(me.a,{placeholder:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90",allowClear:!0,showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},onChange:le,children:F.map((function(e,t){return Object(a.jsx)(jt,{value:e.id,children:e.dtSourceName},t)}))})}),Object(a.jsx)(v.a.Item,{tooltip:"\u9009\u62e9\u4f60\u6240\u9700\u8981\u8fc1\u79fb\u5230\u7684Bucket",name:"desBucket",label:"Bucket",rules:[{required:!0,message:"\u8bf7\u9009\u62e9Bucket"}],children:Object(a.jsx)(me.a,{placeholder:"\u8bf7\u9009\u62e9Bucket",allowClear:!0,showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},dropdownRender:function(e){return Object(a.jsxs)("div",{children:[e,Q&&Object(a.jsxs)("div",{children:[Object(a.jsx)(Ne.a,{style:{margin:"4px 0"}}),Object(a.jsxs)("div",{style:{display:"flex",flexWrap:"nowrap",padding:8},children:[Object(a.jsx)(w.a,{style:{flex:"auto"},value:_,onChange:pe}),Object(a.jsxs)("a",{style:{flex:"none",padding:"8px",display:"block",cursor:"pointer"},onClick:de,children:[Object(a.jsx)($e.a,{})," \u521b\u5efaBucket"]})]})]})]})},children:P.map((function(e,t){return Object(a.jsx)(jt,{value:e,children:e},t)}))})}),Object(a.jsxs)(v.a.Item,{children:[Object(a.jsx)(k.a,{type:"primary",htmlType:"button",style:{margin:"0 10px 0 25%"},onClick:ce,children:"\u4e0a\u4e00\u6b65"}),Object(a.jsx)(k.a,{type:"primary",htmlType:"submit",children:"\u4e0b\u4e00\u6b65"})]})]}))},{title:"\u53c2\u6570\u8bbe\u7f6e",content:Object(a.jsxs)(v.a,Object(V.a)(Object(V.a)({},pt),{},{name:"basic",onFinish:function(t){var n,a=Object(V.a)(Object(V.a)({},j),{},{option:t});(function(e){return Qe.apply(this,arguments)})({id:e.match.params.id,srcId:a.src.srcId,srcBucket:a.src.srcBucket,fileNameStart:a.src.fileNameStart,fileNameEnd:a.src.fileNameEnd,desId:a.des.desId,desBucket:a.des.desBucket,allMove:a.allMove,taskName:a.option.taskName,sendMail:S,contact:void 0!==a.contact?a.contact:null===(n=a.option)||void 0===n?void 0:n.email,time:void 0!==a.time?a.time:te}).then((function(t){var n=t.data.message;"Success"===n?(x.a.success({message:"\u901a\u77e5",description:"\u4fee\u6539\u8fc1\u79fb\u4efb\u52a1\u6210\u529f",duration:2}),e.history.push("/movetask/show")):"CreateRepeat"===n?x.a.error({message:"\u901a\u77e5",description:"\u8bf7\u4e0d\u8981\u91cd\u590d\u4f7f\u7528\u8fc1\u79fb\u4efb\u52a1\u540d\u79f0",duration:2}):x.a.error({message:"\u901a\u77e5",description:"\u4fee\u6539\u8fc1\u79fb\u4efb\u52a1\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u914d\u7f6e",duration:2})}))},children:[Object(a.jsx)(v.a.Item,{tooltip:"\u8bf7\u8f93\u5165\u8fc1\u79fb\u4efb\u52a1\u540d\u79f0",label:"\u8fc1\u79fb\u4efb\u52a1\u540d\u79f0",name:"taskName",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8fc1\u79fb\u4efb\u52a1\u540d\u79f0"}],children:Object(a.jsx)(w.a,{placeholder:"\u8bf7\u8f93\u5165\u8fc1\u79fb\u4efb\u52a1\u540d\u79f0"})}),Object(a.jsx)(v.a.Item,{label:"\u4efb\u52a1\u5b8c\u6210\u901a\u77e5",name:"sendMail",children:Object(a.jsx)(Ie.a,{onChange:function(){C(!S)},checked:S})}),S&&Object(a.jsx)(v.a.Item,{tooltip:"\u5728\u63a8\u9001\u914d\u7f6e\u4e2d,\u53ef\u521b\u5efa\u8054\u7cfb\u4eba",name:"email",label:"\u8054\u7cfb\u4eba",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8054\u7cfb\u4eba"}],children:Object(a.jsx)(me.a,{placeholder:"\u8bf7\u9009\u62e9\u8054\u7cfb\u4eba",allowClear:!0,onFocus:function(e){s(!0),re.setFieldsValue({desBucket:void 0}),z([]),ze({id:42}).then((function(e){"Success"===e.data.message?U(e.data.data):x.a.error({message:"\u901a\u77e5",description:"\u83b7\u53d6\u8054\u7cfb\u4eba\u5217\u8868\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u914d\u7f6e",duration:2}),s(!1)}))},onChange:function(e){h(Object(V.a)(Object(V.a)({},j),{},{contact:e}))},children:W.map((function(e,t){return Object(a.jsx)(jt,{value:e.contactEmail,children:e.contactName},t)}))})}),Object(a.jsx)(v.a.Item,{tooltip:"\u53ef\u4ee5\u6307\u5b9a\u5f00\u59cb\u542f\u52a8\u7684\u65f6\u95f4",name:"time",label:"\u5b9a\u65f6\u6267\u884c",children:Object(a.jsx)(Fe.a,{defaultValue:Re()(te),format:"YYYY-MM-DD HH:mm:ss",showTime:!0,onChange:function(e){h(Object(V.a)(Object(V.a)({},j),{},{time:null===e||void 0===e?void 0:e.format("yyyy-MM-DD HH:mm:ss")}))}})}),Object(a.jsxs)(v.a.Item,{children:[Object(a.jsx)(k.a,{type:"primary",htmlType:"submit",style:{margin:"0 10px 0 25%"},children:"\u786e\u5b9a"}),Object(a.jsx)(k.a,{type:"primary",htmlType:"button",onClick:ce,children:"\u4e0a\u4e00\u6b65"})]})]}))}];return Object(a.jsxs)(je.a,{size:"large",spinning:r,children:[Object(a.jsx)(Ce.a,{forcerender:"true",progressDot:function(e,t){t.status;var n=t.index;return Object(a.jsx)(Be.a,{content:Object(a.jsxs)("span",{children:["step ",n]}),children:e})},current:o,children:he.map((function(e){return Object(a.jsx)(dt,{title:e.title},e.title)}))}),Object(a.jsxs)("div",{className:"steps-content",children:[he[o].content,Object(a.jsx)("div",{className:"steps-action"})]})]})},bt=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{path:"/movetask/show",component:lt}),Object(a.jsx)(b.b,{path:"/movetask/create",component:et}),Object(a.jsx)(b.b,{path:"/movetask/update/:id",component:ht}),Object(a.jsx)(b.a,{to:"/movetask/show"})]})})}}]),n}(h.a.Component),mt=n(177),Ot=n(269),ft=n(147),xt=n(676);function gt(){return(gt=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/sysmanage/getLogsById","get",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(){return(yt=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/sysmanage/getColorById","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(){return(vt=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/sysmanage/findAll","get",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(){return(wt=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/sysmanage/createWhiteList","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kt(){return(kt=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/sysmanage/getWhiteListById","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function St(){return(St=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/sysmanage/updateWhiteList","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ct(){return(Ct=Object(F.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("/sysmanage/deleteWhiteList","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var It=n(687),Nt=function(){var e=Object(p.useState)([]),t=Object(K.a)(e,2),n=t[0],r=t[1];Object(p.useEffect)((function(){(function(e){return gt.apply(this,arguments)})().then((function(e){"Success"===e.data.message?r(e.data.data):x.a.error({message:"\u901a\u77e5",description:"\u83b7\u53d6\u6570\u636e\u6e90\u5217\u8868\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u6570\u636e\u6e90\u914d\u7f6e",duration:2})}))}),[]);var s=Object(a.jsxs)(mt.a,{onClick:function(e){(function(e){return yt.apply(this,arguments)})({key:e.key}).then((function(e){"Success"===e.data.message?r(e.data.data):x.a.error({message:"\u901a\u77e5",description:"\u67e5\u770b\u5931\u8d25",duration:1})}))},children:[Object(a.jsx)(mt.a.Item,{children:"\u5168\u90e8\u65e5\u5fd7"},"all"),Object(a.jsx)(mt.a.Item,{children:"\u767b\u5f55\u65e5\u5fd7"},"green"),Object(a.jsx)(mt.a.Item,{children:"\u5e38\u89c4\u65e5\u5fd7"},"blue"),Object(a.jsx)(mt.a.Item,{children:"\u53d6\u6d88\u65e5\u5fd7"},"orange"),Object(a.jsx)(mt.a.Item,{children:"\u5220\u9664\u65e5\u5fd7"},"red")]});return Object(a.jsxs)("div",{style:{height:"100%",padding:"10px 10px 0 10px"},children:[Object(a.jsx)(Ot.a,{overlay:s,children:Object(a.jsxs)("a",{className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},children:["\u7b5b\u9009\u65e5\u5fd7 ",Object(a.jsx)(It.a,{})]})}),0===n.length?Object(a.jsx)(ft.a,{style:{position:"absolute",top:"40%",left:"50%"}}):Object(a.jsx)(xt.a,{style:{height:"100%",textAlign:"left",padding:"20px 10px 0 10px",overflowY:" auto"},children:n.map((function(e,t){return Object(a.jsxs)(xt.a.Item,{color:e.color,children:[e.log,"---",e.createTime]},t)}))})]})},Ft=function(e){var t=Object(p.useState)([]),n=Object(K.a)(t,2),r=n[0],s=n[1],c=Object(p.useState)([]),i=Object(K.a)(c,2),o=i[0],u=i[1],l=Object(p.useState)(!1),d=Object(K.a)(l,2),j=d[0],h=d[1],b=Object(p.useState)(!1),m=Object(K.a)(b,2),O=m[0],f=m[1],g=Object(p.useState)(!1),y=Object(K.a)(g,2),v=y[0],w=y[1],S=Object(p.useState)(""),C=Object(K.a)(S,2),I=C[0],N=C[1],F=Object(p.useState)([]),B=Object(K.a)(F,2),T=B[0],R=B[1];Object(p.useEffect)((function(){L()}),[]);var L=function(){f(!0),function(e){return vt.apply(this,arguments)}().then((function(e){var t=e.data.message,n=e.data.data;"Success"===t?(s(n),f(!1)):f(!1)}))},D=[{title:"IP\u5730\u5740",dataIndex:"ip",render:function(t,n){return Object(a.jsx)("span",{style:{color:"#0062FF",cursor:"pointer"},onClick:function(){return t=n.id,void e.history.push("/sysmanage/update/"+t);var t},children:t})}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime"},{title:"\u64cd\u4f5c",dataIndex:"option",render:function(e,t){return Object(a.jsx)(de.b,{size:"middle",children:Object(a.jsx)("span",{style:{color:"#0062FF",cursor:"pointer",marginRight:"10px"},onClick:function(){return function(e){var t=T.length;if(t<=1){N("\u60a8\u786e\u5b9a\u8981\u5220\u9664\u5417?");var n=[];n.push(e),u(n)}else N("\u60a8\u786e\u5b9a\u8981\u5220\u9664\u9009\u4e2d\u7684"+t+"\u4e2aip\u5730\u5740\u5417?"),u(T);h(!0)}(t.id,t.contactName)},children:"\u5220\u9664"})})}}],A={selectedRowKeys:T,onChange:function(e){R(e)}};return Object(a.jsxs)(je.a,{size:"large",spinning:O,children:[Object(a.jsxs)("div",{style:{height:"50px",paddingTop:"10px"},children:[Object(a.jsx)(k.a,{type:"primary",onClick:function(){return L()},style:{background:"#00b4ed",position:"absolute",right:"83px",zIndex:"999",borderRadius:"5px"},children:"\u5237\u65b0"}),Object(a.jsx)(k.a,{type:"primary",onClick:function(){e.history.push("/sysmanage/create")},style:{background:"#00b4ed",position:"absolute",right:"11px",zIndex:"999",borderRadius:"5px"},children:"\u521b\u5efa"})]}),Object(a.jsx)("div",{style:{height:"10px",background:"#f0f2f5"}}),Object(a.jsxs)("div",{style:{padding:"10px",background:"#ffffff"},children:[Object(a.jsx)("div",{children:Object(a.jsx)(pe.a,{rowSelection:A,bordered:!0,columns:D,dataSource:r,pagination:{showQuickJumper:!0,defaultPageSize:10,pageSizeOptions:[10,20,50,100]}})}),Object(a.jsx)(he.a,{title:"\u5220\u9664ip\u5730\u5740",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",visible:j,onOk:function(){w(!0),function(e){return Ct.apply(this,arguments)}({data:{id:o}}).then((function(e){"Success"===e.data.message?(u([]),h(!1),w(!1),L(),x.a.success({message:"\u901a\u77e5",description:"\u5220\u9664\u6210\u529f",duration:1})):x.a.error({message:"\u901a\u77e5",description:"\u5220\u9664\u5931\u8d25",duration:1})}))},confirmLoading:v,onCancel:function(){h(!1)},children:Object(a.jsx)("p",{children:I})})]})]})},Bt={labelCol:{span:3},wrapperCol:{span:12}},Tt={wrapperCol:{offset:3,span:16}},Rt=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).formRef=h.a.createRef(),a.onFinish=function(e){(function(e){return wt.apply(this,arguments)})({ip:e.ip}).then((function(e){"Success"===e.data.message?a.props.history.push("/sysmanage/whitelist"):x.a.error({message:"\u901a\u77e5",description:"\u521b\u5efa\u5931\u8d25\uff0cip\u5730\u5740\u5df2\u5b58\u5728,\u6b64ip\u53ef\u4ee5\u767b\u5f55",duration:1})}))},a}return Object(l.a)(n,[{key:"quit",value:function(){this.props.history.goBack()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{style:{padding:"10px"},children:[Object(a.jsx)("h2",{children:"\u521b\u5efa\u767d\u540d\u5355"}),Object(a.jsx)(g.a,{children:Object(a.jsx)(y.a,{span:20,children:Object(a.jsxs)(v.a,Object(V.a)(Object(V.a)({},Bt),{},{ref:this.formRef,name:"basic",initialValues:{remember:!0},onFinish:this.onFinish,children:[Object(a.jsx)(v.a.Item,{label:"IP\u5730\u5740",name:"ip",rules:[{required:!0,message:"\u8bf7\u8f93\u5165ip\u5730\u5740"}],children:Object(a.jsx)(w.a,{placeholder:"\u8bf7\u8f93\u5165ip\u5730\u5740"})}),Object(a.jsxs)(v.a.Item,Object(V.a)(Object(V.a)({},Tt),{},{children:[Object(a.jsx)(k.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"},children:"\u786e\u5b9a"}),Object(a.jsx)(k.a,{htmlType:"button",onClick:function(){return e.quit()},children:"\u53d6\u6d88"})]}))]}))})})]})}}]),n}(h.a.Component),Lt=(me.a.Option,{labelCol:{span:3},wrapperCol:{span:12}}),Dt={wrapperCol:{offset:3,span:16}},At=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).formRef=h.a.createRef(),a.onFinish=function(e){(function(e){return St.apply(this,arguments)})({id:a.props.match.params.id,ip:e.ip}).then((function(e){var t=e.data.message;"Success"===t?a.props.history.push("/sysmanage/whitelist"):"CreateRepeat"===t&&x.a.error({message:"\u901a\u77e5",description:"ip\u5730\u5740\u5df2\u5b58\u5728,\u8bf7\u91cd\u65b0\u8f93\u5165",duration:1})}))},a}return Object(l.a)(n,[{key:"componentWillMount",value:function(){var e=this;(function(e){return kt.apply(this,arguments)})({id:this.props.match.params.id}).then((function(t){if("Success"===t.data.message){var n=t.data.data;e.formRef.current.setFieldsValue({ip:n.ip})}else x.a.error({message:"\u901a\u77e5",description:"\u83b7\u53d6\u4fe1\u606f\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",duration:1})}))}},{key:"quit",value:function(){this.props.history.goBack()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{style:{padding:"10px"},children:[Object(a.jsx)("h2",{children:"\u4fee\u6539\u767d\u540d\u5355"}),Object(a.jsx)(g.a,{children:Object(a.jsx)(y.a,{span:20,children:Object(a.jsxs)(v.a,Object(V.a)(Object(V.a)({},Lt),{},{ref:this.formRef,name:"basic",initialValues:{remember:!0},onFinish:this.onFinish,children:[Object(a.jsx)(v.a.Item,{label:"ip\u5730\u5740",name:"ip",rules:[{required:!0,message:"\u8bf7\u8f93\u5165ip\u5730\u5740"}],children:Object(a.jsx)(w.a,{placeholder:"\u8bf7\u8f93\u5165ip\u5730\u5740"})}),Object(a.jsxs)(v.a.Item,Object(V.a)(Object(V.a)({},Dt),{},{children:[Object(a.jsx)(k.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"},children:"\u786e\u5b9a"}),Object(a.jsx)(k.a,{htmlType:"button",onClick:function(){return e.quit()},children:"\u53d6\u6d88"})]}))]}))})})]})}}]),n}(h.a.Component),qt=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{path:"/sysmanage/logs",component:Nt}),Object(a.jsx)(b.b,{path:"/sysmanage/whitelist",component:Ft}),Object(a.jsx)(b.b,{path:"/sysmanage/create",component:Rt}),Object(a.jsx)(b.b,{path:"/sysmanage/update/:id",component:At})]})}}]),n}(h.a.Component),Pt=function(e){var t=Object(p.useState)([]),n=Object(K.a)(t,2),r=n[0],s=n[1],c=Object(p.useState)([]),i=Object(K.a)(c,2),o=i[0],u=i[1],l=Object(p.useState)(!1),d=Object(K.a)(l,2),j=d[0],h=d[1],b=Object(p.useState)(!1),m=Object(K.a)(b,2),O=m[0],f=m[1],g=Object(p.useState)(!1),y=Object(K.a)(g,2),v=y[0],w=y[1],S=Object(p.useState)(""),C=Object(K.a)(S,2),I=C[0],N=C[1],F=Object(p.useState)([]),B=Object(K.a)(F,2),T=B[0],R=B[1];Object(p.useEffect)((function(){L()}),[]);var L=function(){f(!0),function(e){return Le.apply(this,arguments)}().then((function(e){var t=e.data.message,n=e.data.data;"Success"===t?(s(n),f(!1)):f(!1)}))},D=[{title:"\u8054\u7cfb\u4eba\u540d\u79f0",dataIndex:"contactName",render:function(t,n){return Object(a.jsx)("span",{style:{color:"#0062FF",cursor:"pointer"},onClick:function(){return t=n.id,void e.history.push("/pushconfig/update/"+t);var t},children:t})}},{title:"\u90ae\u7bb1",dataIndex:"contactEmail"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime"},{title:"\u64cd\u4f5c",dataIndex:"option",render:function(e,t){return Object(a.jsxs)(de.b,{size:"middle",children:[Object(a.jsx)("span",{style:{color:"#0062FF",cursor:"pointer",marginRight:"10px"},onClick:function(){return e=t.id,f(!0),void _({id:e}).then((function(e){"Success"===e.data.message?(f(!1),x.a.success({message:"\u901a\u77e5",description:"\u6d4b\u8bd5\u6210\u529f",duration:1})):x.a.error({message:"\u901a\u77e5",description:"\u6d4b\u8bd5\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u60a8\u7684\u53c2\u6570\u8bbe\u7f6e",duration:1}),f(!1)}));var e},children:"\u6d4b\u8bd5"}),Object(a.jsx)("span",{style:{color:"#0062FF",cursor:"pointer",marginRight:"10px"},onClick:function(){return function(e,t){var n=T.length;if(n<=1){N("\u60a8\u786e\u5b9a\u8981\u5220\u9664\u8054\u7cfb\u4eba "+t+" \u5417?");var a=[];a.push(e),u(a)}else N("\u60a8\u786e\u5b9a\u8981\u5220\u9664\u9009\u4e2d\u7684"+n+"\u591a\u4e2a\u8054\u7cfb\u4eba\u5417\u5417?"),u(T);h(!0)}(t.id,t.contactName)},children:"\u5220\u9664"})]})}}],A={selectedRowKeys:T,onChange:function(e){R(e)}};return Object(a.jsxs)(je.a,{size:"large",spinning:O,children:[Object(a.jsxs)("div",{style:{height:"50px",paddingTop:"10px"},children:[Object(a.jsx)(k.a,{type:"primary",onClick:function(){return L()},style:{background:"#00b4ed",position:"absolute",right:"83px",zIndex:"999",borderRadius:"5px"},children:"\u5237\u65b0"}),Object(a.jsx)(k.a,{type:"primary",onClick:function(){e.history.push("/pushconfig/create")},style:{background:"#00b4ed",position:"absolute",right:"11px",zIndex:"999",borderRadius:"5px"},children:"\u521b\u5efa"})]}),Object(a.jsx)("div",{style:{height:"10px",background:"#f0f2f5"}}),Object(a.jsxs)("div",{style:{padding:"10px",background:"#ffffff"},children:[Object(a.jsx)("div",{children:Object(a.jsx)(pe.a,{rowSelection:A,bordered:!0,columns:D,dataSource:r,pagination:{showQuickJumper:!0,defaultPageSize:10,pageSizeOptions:[10,20,50,100]}})}),Object(a.jsx)(he.a,{title:"\u5220\u9664\u8054\u7cfb\u4eba",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",visible:j,onOk:function(){w(!0),function(e){return De.apply(this,arguments)}({data:{id:o}}).then((function(e){"Success"===e.data.message?(u([]),h(!1),w(!1),L(),x.a.success({message:"\u901a\u77e5",description:"\u5220\u9664\u6210\u529f",duration:1})):x.a.error({message:"\u901a\u77e5",description:"\u5220\u9664\u5931\u8d25",duration:1})}))},confirmLoading:v,onCancel:function(){h(!1)},children:Object(a.jsx)("p",{children:I})})]})]})},zt=(me.a.Option,{labelCol:{span:3},wrapperCol:{span:12}}),Et={wrapperCol:{offset:3,span:16}},Mt=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).formRef=h.a.createRef(),a.onFinish=function(e){(function(e){return Ae.apply(this,arguments)})({contactName:e.contactName,contactEmail:e.contactEmail}).then((function(e){"Success"===e.data.message?(a.props.history.push("/pushconfig/contact"),x.a.success({message:"\u901a\u77e5",description:"\u521b\u5efa\u6210\u529f",duration:1})):x.a.error({message:"\u901a\u77e5",description:"\u521b\u5efa\u5931\u8d25\uff0c\u8054\u7cfb\u4eba\u5df2\u5b58\u5728",duration:1})}))},a}return Object(l.a)(n,[{key:"quit",value:function(){this.props.history.goBack()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{style:{padding:"10px"},children:[Object(a.jsx)("h2",{children:"\u521b\u5efa\u8054\u7cfb\u4eba"}),Object(a.jsx)(g.a,{children:Object(a.jsx)(y.a,{span:20,children:Object(a.jsxs)(v.a,Object(V.a)(Object(V.a)({},zt),{},{ref:this.formRef,name:"basic",initialValues:{remember:!0},onFinish:this.onFinish,children:[Object(a.jsx)(v.a.Item,{tooltip:"\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba\u540d\u79f0",label:"\u8054\u7cfb\u4eba\u540d\u79f0",name:"contactName",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba\u540d\u79f0"}],children:Object(a.jsx)(w.a,{placeholder:"\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba\u540d\u79f0"})}),Object(a.jsx)(v.a.Item,{tooltip:"\u8bf7\u8f93\u5165\u6b63\u786e\u683c\u5f0f\u7684\u90ae\u7bb1\u5730\u5740",name:"contactEmail",label:"\u8054\u7cfb\u4eba\u90ae\u7bb1",rules:[{type:"email",message:"\u8bf7\u8f93\u5165\u6b63\u786e\u683c\u5f0f\u7684\u90ae\u7bb1\u5730\u5740"},{required:!0,message:"\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba\u90ae\u7bb1"}],children:Object(a.jsx)(w.a,{placeholder:"\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba\u90ae\u7bb1"})}),Object(a.jsxs)(v.a.Item,Object(V.a)(Object(V.a)({},Et),{},{children:[Object(a.jsx)(k.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"},children:"\u786e\u5b9a"}),Object(a.jsx)(k.a,{htmlType:"button",onClick:function(){return e.quit()},children:"\u53d6\u6d88"})]}))]}))})})]})}}]),n}(h.a.Component),Wt=(me.a.Option,{labelCol:{span:3},wrapperCol:{span:12}}),Vt={wrapperCol:{offset:3,span:16}},Kt=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).formRef=h.a.createRef(),a.onFinish=function(e){(function(e){return Pe.apply(this,arguments)})({id:a.props.match.params.id,contactName:e.contactName,contactEmail:e.contactEmail}).then((function(e){var t=e.data.message;"Success"===t?a.props.history.push("/pushconfig/contact"):"CreateRepeat"===t&&x.a.error({message:"\u901a\u77e5",description:"\u8054\u7cfb\u4eba\u540d\u79f0\u5df2\u5b58\u5728\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",duration:1})}))},a}return Object(l.a)(n,[{key:"componentWillMount",value:function(){var e=this;(function(e){return qe.apply(this,arguments)})({id:this.props.match.params.id}).then((function(t){if("Success"===t.data.message){var n=t.data.data;e.formRef.current.setFieldsValue({contactName:n.contactName,contactEmail:n.contactEmail})}else x.a.error({message:"\u901a\u77e5",description:"\u83b7\u53d6\u8054\u7cfb\u4eba\u4fe1\u606f\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",duration:1})}))}},{key:"quit",value:function(){this.props.history.goBack()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{style:{padding:"10px"},children:[Object(a.jsx)("h2",{children:"\u4fee\u6539\u8054\u7cfb\u4eba"}),Object(a.jsx)(g.a,{children:Object(a.jsx)(y.a,{span:20,children:Object(a.jsxs)(v.a,Object(V.a)(Object(V.a)({},Wt),{},{ref:this.formRef,name:"basic",initialValues:{remember:!0},onFinish:this.onFinish,children:[Object(a.jsx)(v.a.Item,{label:"\u8054\u7cfb\u4eba\u540d\u79f0",name:"contactName",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba\u540d\u79f0"}],children:Object(a.jsx)(w.a,{placeholder:"\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba\u540d\u79f0"})}),Object(a.jsx)(v.a.Item,{name:"contactEmail",label:"\u8054\u7cfb\u4eba\u90ae\u7bb1",rules:[{type:"email",message:"\u8bf7\u8f93\u5165\u6b63\u786e\u683c\u5f0f\u7684\u90ae\u7bb1\u5730\u5740"},{required:!0,message:"\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba\u90ae\u7bb1"}],children:Object(a.jsx)(w.a,{placeholder:"\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba\u90ae\u7bb1"})}),Object(a.jsxs)(v.a.Item,Object(V.a)(Object(V.a)({},Vt),{},{children:[Object(a.jsx)(k.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"},children:"\u786e\u5b9a"}),Object(a.jsx)(k.a,{htmlType:"button",onClick:function(){return e.quit()},children:"\u53d6\u6d88"})]}))]}))})})]})}}]),n}(h.a.Component),Ut=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{path:"/pushconfig/contact",component:Pt}),Object(a.jsx)(b.b,{path:"/pushconfig/create",component:Mt}),Object(a.jsx)(b.b,{path:"/pushconfig/update/:id",component:Kt}),Object(a.jsx)(b.a,{to:"/pushconfig/contact"})]})}}]),n}(h.a.Component),Ht=function(){return Object(a.jsxs)("div",{style:{textAlign:"center",height:"100%",padding:"10px"},children:[Object(a.jsx)(g.a,{style:{height:"52%"},children:Object(a.jsx)(y.a,{span:24,style:{height:"100%"},children:Object(a.jsx)("img",{src:"https://gw.alipayobjects.com/mdn/rms_ae7ad9/afts/img/A*-wAhRYnWQscAAAAAAAAAAABkARQnAQ",height:"100%"})})}),Object(a.jsx)(g.a,{style:{height:"5%",margin:"5px 0"},children:Object(a.jsxs)(y.a,{span:24,children:[Object(a.jsx)("div",{children:"DTRUN\u8fc1\u79fb\u7cfb\u7edf\u662f\u4e00\u4e2a\u65e0\u4fb5\u5165\u5f0f\u7684\u5bf9\u8c61\u5b58\u50a8\u8fc1\u79fb\u7cfb\u7edf,\u5b83\u53ef\u4ee5\u5c06\u4e0d\u540c\u5e73\u53f0\u7684\u5bf9\u8c61\u5b58\u50a8\u6570\u636e\u8fdb\u884c\u5e73\u884c\u8fc1\u79fb"}),Object(a.jsx)("span",{children:"\u5728\u6570\u636e\u8fdb\u884c\u8fc1\u79fb\u7684\u65f6\u5019\u4e0d\u4f1a\u5f71\u54cd\u60a8\u4e1a\u52a1\u7684\u6b63\u5e38\u4f7f\u7528\u5e76\u4e14\u60a8\u65e0\u9700\u5173\u6ce8\u8fc7\u7a0b,\u5f53\u8fc1\u79fb\u4efb\u52a1\u5b8c\u6210\u540e,\u60a8\u5c06\u4f1a\u6536\u5230\u901a\u77e5"})]})}),Object(a.jsxs)(g.a,{style:{height:"40%"},children:[Object(a.jsxs)(y.a,{span:6,children:[Object(a.jsx)(Q.a,{src:"https://cdn.jsdelivr.net/gh/WendyBoys/oss/img/1.png",placeholder:Object(a.jsx)(Q.a,{preview:!1,src:"https://cdn.jsdelivr.net/gh/WendyBoys/oss/img/1.png"})}),Object(a.jsx)("div",{children:"\u652f\u6301\u591a\u79cd\u6570\u636e\u6e90\u8fc1\u79fb"})]}),Object(a.jsxs)(y.a,{span:6,children:[Object(a.jsx)(Q.a,{src:"https://cdn.jsdelivr.net/gh/WendyBoys/oss/img/2.png",placeholder:Object(a.jsx)(Q.a,{preview:!1,src:"https://cdn.jsdelivr.net/gh/WendyBoys/oss/img/2.png"})}),Object(a.jsx)("div",{children:"\u7b80\u5355\u914d\u7f6e\uff0c\u5f00\u7bb1\u5373\u7528"})]}),Object(a.jsxs)(y.a,{span:6,children:[" ",Object(a.jsx)(Q.a,{src:"https://cdn.jsdelivr.net/gh/WendyBoys/oss/img/4.png",placeholder:Object(a.jsx)(Q.a,{preview:!1,src:"https://cdn.jsdelivr.net/gh/WendyBoys/oss/img/4.png"})}),Object(a.jsx)("div",{children:"\u81ea\u52a8\u5316\u8fc1\u79fb\uff0c\u65e0\u9700\u4eba\u5de5\u4e8c\u6b21\u5e72\u9884"})]}),Object(a.jsxs)(y.a,{span:6,children:[" ",Object(a.jsx)(Q.a,{src:"https://cdn.jsdelivr.net/gh/WendyBoys/oss/img/5.png",placeholder:Object(a.jsx)(Q.a,{preview:!1,src:"https://cdn.jsdelivr.net/gh/WendyBoys/oss/img/5.png"})}),Object(a.jsx)("div",{children:"\u65e0\u4fb5\u5165\u5f0f\u8bbe\u8ba1,\u8fc1\u79fb\u65f6\u4e0d\u5f71\u54cd\u4e1a\u52a1\u4f7f\u7528"})]})]}),Object(a.jsx)(g.a,{style:{height:"3%"},children:Object(a.jsx)(y.a,{span:24,children:Object(a.jsx)("span",{children:"\xa9 20017-2021 Dtrun.cn \u7248\u6743\u6240\u6709"})})})]})},Jt=n(430),Qt=n(667),Yt=n(668),Gt=n(673),$t=n(675),_t=n(688),Xt=n(689),Zt=n(690),en=n(691),tn=n(692),nn=n(693),an=n(694),rn=n(695),sn=mt.a.SubMenu,cn=Qt.a.Header,on=Qt.a.Content,un=Qt.a.Sider,ln={wrapperCol:{offset:5,span:15}},dn={labelCol:{span:5},wrapperCol:{span:15}},jn=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).onFinish=function(e){(function(e){return E.apply(this,arguments)})({oldPassword:e.oldPassword,newPassword:e.newPassword}).then((function(e){"Success"===e.data.message?(a.setState({passwordDrawer:!1,mainDrawerWidth:250}),x.a.success({message:"\u901a\u77e5",description:"\u4fee\u6539\u6210\u529f",duration:1})):x.a.error({message:"\u901a\u77e5",description:"\u65e7\u5bc6\u7801\u9519\u8bef,\u8bf7\u91cd\u65b0\u8f93\u5165",duration:1})}))},a.showMainDrawer=function(){a.setState({mainDrawer:!0})},a.onMainDrawerClose=function(){a.setState({mainDrawer:!1})},a.showMessageDrawer=function(){a.setState({messageDrawer:!0,mainDrawerWidth:470})},a.onMessageDrawerClose=function(){a.setState({messageDrawer:!1,mainDrawerWidth:250})},a.showPasswordDrawer=function(){a.setState({passwordDrawer:!0,mainDrawerWidth:470})},a.onPasswordDrawerClose=function(){a.setState({passwordDrawer:!1,mainDrawerWidth:250})},a.setIconLoading=function(){a.setState({iconLoading:!1})},a.handleChange=function(e){if("uploading"!==e.file.status){if("done"===e.file.status){var t=e.fileList[a.state.index].response;if("Success"===t.message){a.setState({iconUrl:t.data});var n=e.file.size/1024;n>512&&n<=1024?setTimeout(a.setIconLoading,2e3):n>256&&n<=512?setTimeout(a.setIconLoading,1e3):a.setState({iconLoading:!1}),tt.b.success("\u4fee\u6539\u5934\u50cf\u6210\u529f")}else tt.b.error("\u4fee\u6539\u5934\u50cf\u5931\u8d25");a.setState({index:a.state.index+1})}}else a.setState({iconLoading:!0})},a.state={token:f.a.load("token"),userName:"",iconUrl:"",mainDrawer:!1,mainDrawerWidth:250,messageDrawer:!1,passwordDrawer:!1,placement:"right",loading:!1,iconLoading:!1,index:0},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),function(e){return z.apply(this,arguments)}().then((function(t){if("Success"===t.data.message){var n=t.data.data;e.setState({userName:n.userName,iconUrl:n.iconUrl,loading:!1})}else x.a.error({message:"\u901a\u77e5",description:"\u670d\u52a1\u5668\u8fde\u63a5\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",duration:2})}))}},{key:"logout",value:function(){var e=this;(function(e){return A.apply(this,arguments)})().then((function(t){"Success"===t.data.message?(f.a.remove("token",{path:"/"}),e.props.history.push("/login"),x.a.success({message:"\u901a\u77e5",description:"\u6ce8\u9500\u6210\u529f",duration:2})):x.a.error({message:"\u901a\u77e5",description:"\u670d\u52a1\u5668\u8fde\u63a5\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",duration:2})}))}},{key:"quit",value:function(){this.setState({passwordDrawer:!1,mainDrawerWidth:250})}},{key:"beforeUpload",value:function(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||tt.b.error("\u4ec5\u652f\u6301JPG\u548cPNG\u6587\u4ef6");var n=e.size/1024/1024<1;return n||tt.b.error("\u56fe\u7247\u5927\u5c0f\u4e0d\u5f97\u5927\u4e8e1MB"),t&&n}},{key:"render",value:function(){var e=this,t=this.state,n=t.userName,r=t.iconUrl,s=t.placement,c=t.mainDrawer,i=t.mainDrawerWidth,u=t.loading,l=t.iconLoading;return Object(a.jsxs)("div",{style:{height:"100%"},children:[Object(a.jsxs)(Yt.a,{title:"\u6b22\u8fce\u56de\u6765\uff0c"+n,placement:s,closable:!1,onClose:this.onMainDrawerClose,visible:c,width:i,children:[Object(a.jsx)(je.a,{spinning:l,children:Object(a.jsx)(Q.a,{style:{borderRadius:"100%",width:"100%",cursor:"pointer"},width:"202px",height:"202px",src:r})}),Object(a.jsx)("div",{style:{marginLeft:"47px",marginTop:"10px"},children:Object(a.jsx)(Jt.a,{rotate:!0,modalTitle:"\u7f16\u8f91\u56fe\u7247",modalOk:"\u786e\u5b9a",modalCancel:"\u53d6\u6d88",children:Object(a.jsx)(Gt.a,{headers:{token:this.state.token},showUploadList:!1,action:"http://127.0.0.1:8080/api/user/icon",beforeUpload:this.beforeUpload,onChange:this.handleChange,children:Object(a.jsx)(k.a,{icon:Object(a.jsx)(_t.a,{}),children:"\u66f4\u6362\u5934\u50cf"})})})}),Object(a.jsxs)(mt.a,{mode:"inline",children:[Object(a.jsx)(mt.a.Item,{onClick:this.showPasswordDrawer,icon:Object(a.jsx)(Xt.a,{}),children:"\u4fee\u6539\u5bc6\u7801"},"2"),Object(a.jsx)(mt.a.Item,{onClick:function(){return e.logout()},icon:Object(a.jsx)(_t.a,{style:{transform:"rotate(90deg)"}}),children:"\u6ce8\u9500"},"3")]}),Object(a.jsx)(Yt.a,{title:"\u4e2a\u4eba\u4e2d\u5fc3",width:400,closable:!1,onClose:this.onMessageDrawerClose,visible:this.state.messageDrawer,children:"\u4e2a\u4eba\u4e2d\u5fc3"}),Object(a.jsx)(Yt.a,{title:"\u4fee\u6539\u5bc6\u7801",width:400,closable:!1,onClose:this.onPasswordDrawerClose,visible:this.state.passwordDrawer,children:Object(a.jsxs)(v.a,Object(V.a)(Object(V.a)({},dn),{},{name:"basic",onFinish:this.onFinish,children:[Object(a.jsx)(v.a.Item,{label:"\u65e7\u5bc6\u7801",name:"oldPassword",rules:[{required:!0,message:"\u8bf7\u8f93\u65e7\u5bc6\u7801"}],children:Object(a.jsx)(w.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u65e7\u5bc6\u7801"})}),Object(a.jsx)(v.a.Item,{label:"\u65b0\u5bc6\u7801",name:"newPassword",rules:[{compare:"11111",required:!0,message:"\u8bf7\u8f93\u65b0\u5bc6\u7801"}],children:Object(a.jsx)("input",{placeholder:"\u8bf7\u8f93\u65b0\u5bc6\u7801",type:"text",id:"basic_dtsName",class:"ant-input",value:""})}),Object(a.jsxs)(v.a.Item,Object(V.a)(Object(V.a)({},ln),{},{children:[Object(a.jsx)(k.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"},children:"\u786e\u5b9a"}),Object(a.jsx)(k.a,{htmlType:"button",onClick:function(){return e.quit()},children:"\u53d6\u6d88"})]}))]}))})]},s),Object(a.jsxs)(Qt.a,{style:{height:"100%"},children:[Object(a.jsx)(je.a,{spinning:u,size:"large",children:Object(a.jsx)(cn,{className:"header",style:{position:"relative",left:"0",padding:"0",background:"#12202e"},children:Object(a.jsxs)(g.a,{children:[Object(a.jsx)("span",{style:{color:"#ffffff",textAlign:"center",width:"200px",fontSize:"20px"},children:"DTRUN\u8fc1\u79fb\u7cfb\u7edf"}),Object(a.jsxs)("div",{onClick:this.showMainDrawer,style:{position:"absolute",right:"45px",cursor:"pointer"},children:[Object(a.jsx)($t.a,{size:45,src:r}),Object(a.jsx)("span",{style:{marginLeft:"5px",color:"#ffffff",fontSize:"15px"},children:n})]})]})})}),Object(a.jsxs)(Qt.a,{children:[Object(a.jsx)(un,{width:200,className:"site-layout-background",style:{overflow:"auto",height:"100vh",position:"fixed",left:0},children:Object(a.jsxs)(mt.a,{mode:"inline",style:{height:"100%",borderRight:0},children:[Object(a.jsx)(mt.a.Item,{icon:Object(a.jsx)(Zt.a,{}),children:Object(a.jsx)(o.b,{to:"/dashboard",children:"\u8fd0\u7ef4\u5927\u76d8"})},"1"),Object(a.jsx)(mt.a.Item,{icon:Object(a.jsx)(en.a,{}),children:Object(a.jsx)(o.b,{to:"/datasource",children:"\u6570\u636e\u6e90\u7ba1\u7406"})},"2"),Object(a.jsx)(mt.a.Item,{icon:Object(a.jsx)(tn.a,{}),children:Object(a.jsx)(o.b,{to:"/movetask",children:"\u8fc1\u79fb\u4efb\u52a1\u7ba1\u7406"})},"3"),Object(a.jsxs)(sn,{icon:Object(a.jsx)(nn.a,{}),title:"\u7cfb\u7edf\u7ba1\u7406",children:[Object(a.jsxs)(mt.a.Item,{children:[" ",Object(a.jsx)(o.b,{to:"/sysmanage/logs",children:"\u7cfb\u7edf\u65e5\u5fd7"})]},"5"),Object(a.jsx)(mt.a.Item,{children:Object(a.jsx)(o.b,{to:"/sysmanage/whitelist",children:"\u767d\u540d\u5355\u7ba1\u7406"})},"6")]},"4"),Object(a.jsxs)(sn,{icon:Object(a.jsx)(an.a,{}),title:"\u63a8\u9001\u914d\u7f6e",children:[Object(a.jsx)(mt.a.Item,{children:"\u90ae\u4ef6\u914d\u7f6e"},"10"),Object(a.jsxs)(mt.a.Item,{children:[" ",Object(a.jsx)(o.b,{to:"/pushconfig/contact",children:"\u8054\u7cfb\u4eba\u914d\u7f6e"})]},"11")]},"9"),Object(a.jsx)(mt.a.Item,{icon:Object(a.jsx)(rn.a,{}),children:Object(a.jsx)(o.b,{to:"/about",children:"\u5173\u4e8e\u6211\u4eec"})},"12")]})}),Object(a.jsx)(Qt.a,{style:{padding:"0 14px 14px 14px",height:"100%"},children:Object(a.jsx)(on,{className:"site-layout-background",style:{marginLeft:200,height:"100%"},children:Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{path:"/dashboard",component:G}),Object(a.jsx)(b.b,{path:"/datasource",component:Se}),Object(a.jsx)(b.b,{path:"/movetask",component:bt}),Object(a.jsx)(b.b,{path:"/sysmanage",component:qt}),Object(a.jsx)(b.b,{path:"/pushconfig",component:Ut}),Object(a.jsx)(b.b,{path:"/about",component:Ht}),Object(a.jsx)(b.a,{to:"/dashboard"})]})})})]})]})]})}}]),n}(h.a.Component),pn=n(696),hn={required:"${label}\u4e3a\u5fc5\u586b\u9879!",string:{range:"${label}\u7684\u957f\u5ea6\u4e3a${min}\u5230${max}\u4e2a\u5b57\u7b26"}},bn=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onFinish=function(t){q({account:t.account,password:t.password,registerCode:t.registerCode}).then((function(t){var n=t.data.message;"Success"===n&&e.props.history.push("/login"),x.a["Success"===n?"success":"error"]({message:"\u901a\u77e5",description:t.data.data,duration:2})}))},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsxs)(g.a,{style:{marginBottom:"5%",paddingTop:"20px",minHeight:"200px"},children:[Object(a.jsx)(y.a,{span:6}),Object(a.jsx)(y.a,{span:12,children:Object(a.jsx)("img",{src:m,alt:"",width:"100%",height:"200px"})}),Object(a.jsx)(y.a,{span:6})]}),Object(a.jsxs)(g.a,{children:[Object(a.jsx)(y.a,{span:6}),Object(a.jsx)(y.a,{span:12,children:Object(a.jsxs)(v.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:this.onFinish,validateMessages:hn,children:[Object(a.jsx)(v.a.Item,{name:"account",label:"\u8d26\u53f7",rules:[{required:!0,type:"string",min:6,max:10}],children:Object(a.jsx)(w.a,{prefix:Object(a.jsx)(S.a,{className:"site-form-item-icon"}),placeholder:"\u8bf7\u8f93\u5165\u8d26\u53f7"})}),Object(a.jsx)(v.a.Item,{name:"password",label:"\u5bc6\u7801",rules:[{required:!0,type:"string",min:6,max:10}],children:Object(a.jsx)(w.a.Password,{prefix:Object(a.jsx)(C.a,{className:"site-form-item-icon"}),type:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"})}),Object(a.jsx)(v.a.Item,{name:"registerCode",label:"\u6ce8\u518c\u7801",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6ce8\u518c\u7801"}],children:Object(a.jsx)(w.a,{prefix:Object(a.jsx)(pn.a,{className:"site-form-item-icon"}),placeholder:"\u6ce8\u518c\u7801"})}),Object(a.jsx)(v.a.Item,{children:Object(a.jsx)(o.b,{className:"login-form-forgot",to:"/login",children:"\u5df2\u6709\u8d26\u53f7\uff1f\u53bb\u767b\u5f55"})}),Object(a.jsx)(v.a.Item,{children:Object(a.jsx)(k.a,{type:"primary",htmlType:"submit",className:"login-form-button",style:{marginBottom:"20px"},children:"\u7acb\u5373\u6ce8\u518c"})})]})}),Object(a.jsx)(y.a,{span:6})]})]})}}]),n}(h.a.Component),mn=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{style:{height:"100%"},children:f.a.load("token")?Object(a.jsx)(b.b,Object(V.a)({},this.props)):Object(a.jsx)(b.a,{to:"/login"})})}}]),n}(p.Component),On=(n(649),n(650),function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{path:"/register",component:bn}),Object(a.jsx)(b.b,{path:"/login",component:W}),Object(a.jsx)(mn,{exact:!0,path:"/",component:jn}),Object(a.jsx)(mn,{path:"/index",component:jn}),Object(a.jsx)(mn,{path:"/dashboard",component:jn}),Object(a.jsx)(mn,{path:"/datasource",component:jn}),Object(a.jsx)(mn,{path:"/movetask",component:jn}),Object(a.jsx)(mn,{path:"/sysmanage",component:jn}),Object(a.jsx)(mn,{path:"/pushconfig",component:jn}),Object(a.jsx)(mn,{path:"/about",component:jn})]})}}]),n}(h.a.Component)),fn=n(30);i.a.render(Object(a.jsx)(fn.a,{locale:s.a,children:Object(a.jsx)(o.a,{children:Object(a.jsx)(On,{})})}),document.getElementById("root"))}},[[654,1,2]]]);
//# sourceMappingURL=main.7c549bf7.chunk.js.map