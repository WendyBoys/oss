(this.webpackJsonpdtrun=this.webpackJsonpdtrun||[]).push([[0],{605:function(e,t,n){},609:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n(399),r=n.n(s),c=n(60),i=n.n(c),o=n(96),u=n(86),l=n(87),d=n(88),j=n(90),p=n(0),h=n.n(p),b=n(80),O=n.p+"static/media/socket.1958b6b6.svg",m=n(119),x=n.n(m),f=n(407),g=n(615),y=n(616),v=n(621),w=n(624),k=n(200),S=n(82),C=n(631),I=n(632),N=n(34),B=n.n(N),F=n(71),T=n(362),D=n.n(T).a.create({baseURL:"https://api.dtrun.cn/api",headers:{token:x.a.load("token")}});function L(e,t,n){return new Promise((function(a,s){if("post"===t)D.post(e,n,{headers:{token:x.a.load("token")}}).then((function(e){a(e)}),(function(e){s(e)})).catch((function(e){s(e)}));else if("get"===t){var r="?";if(n)for(var c in n)r+=c+"="+n[c]+"&";D.get(e+r.substring(0,r.length-1),{headers:{token:x.a.load("token")}}).then((function(e){a(e)}),(function(e){s(e)})).catch((function(e){s(e)}))}else"delete"===t?D.delete(e,n).then((function(e){a(e)}),(function(e){s(e)})).catch((function(e){s(e)})):"put"===t&&D.put(e,n,{headers:{token:x.a.load("token")}}).then((function(e){a(e)}),(function(e){s(e)})).catch((function(e){s(e)}))}))}function R(){return(R=Object(F.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("/user/login","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(F.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("/user/register","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(F.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("/user/getCurrentUser","get",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(F.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("/user/modifyPassword","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).onFinish=function(e){(function(e){return R.apply(this,arguments)})({account:e.account,password:e.password}).then((function(e){var t=e.data.message,n=e.data.data;if("Success"===t){var s=new Date((new Date).getTime()+6048e5);x.a.save("token",n,{path:"/",expires:s}),a.props.history.push({pathname:"/index"})}else"LoginRefuse"===t?f.a.error({message:"\u901a\u77e5",description:"\u8d26\u53f7\u5df2\u88ab\u5c01\u7981",duration:2}):f.a.error({message:"\u901a\u77e5",description:"\u8d26\u53f7\u6216\u5bc6\u7801\u9519\u8bef",duration:2})}))},a.state={title:"\u767b\u5f55"},a}return Object(l.a)(n,[{key:"register",value:function(){this.props.history.push("/register")}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsxs)(g.a,{style:{marginBottom:"5%",paddingTop:"20px",minHeight:"200px"},children:[Object(a.jsx)(y.a,{span:6}),Object(a.jsx)(y.a,{span:12,children:Object(a.jsx)("img",{src:O,alt:"",width:"100%",height:"200px"})}),Object(a.jsx)(y.a,{span:6,children:Object(a.jsx)("div",{})})]}),Object(a.jsxs)(g.a,{children:[Object(a.jsx)(y.a,{span:6}),Object(a.jsx)(y.a,{span:12,children:Object(a.jsx)("div",{children:Object(a.jsxs)(v.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:this.onFinish,children:[Object(a.jsx)(v.a.Item,{name:"account",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8d26\u53f7"}],children:Object(a.jsx)(w.a,{prefix:Object(a.jsx)(C.a,{className:"site-form-item-icon"}),placeholder:"\u8d26\u53f7"})}),Object(a.jsx)(v.a.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}],children:Object(a.jsx)(w.a.Password,{prefix:Object(a.jsx)(I.a,{className:"site-form-item-icon"}),type:"password",placeholder:"\u5bc6\u7801"})}),Object(a.jsxs)(v.a.Item,{children:[Object(a.jsx)(v.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:Object(a.jsx)(k.a,{children:"\u8bb0\u4f4f\u6211"})}),Object(a.jsx)("a",{className:"login-form-forgot",href:"",children:"\u5fd8\u8bb0\u5bc6\u7801"})]}),Object(a.jsxs)(v.a.Item,{children:[Object(a.jsx)(S.a,{type:"primary",htmlType:"submit",className:"login-form-button",style:{marginBottom:"20px"},children:"\u767b\u5f55"}),Object(a.jsx)(S.a,{type:"primary",htmlType:"button",className:"login-form-button",onClick:function(){return e.register()},children:"\u7acb\u5373\u6ce8\u518c"})]})]})})}),Object(a.jsx)(y.a,{span:6})]}),Object(a.jsxs)(g.a,{style:{textAlign:"center"},children:[Object(a.jsx)(y.a,{span:6}),Object(a.jsx)(y.a,{span:12,style:{position:"absolute",left:"45%",bottom:"10px"},children:Object(a.jsx)("a",{href:"http://beian.miit.gov.cn",children:"\u8c6bICP\u59072020036555\u53f7"})}),Object(a.jsx)(y.a,{span:6})]})]})}}]),n}(h.a.Component),M=n(38),U=n(26),z=n(400),V=n(626),W=function(){var e=Object(p.useState)([{date:"2018/8/1",type:"cpu",value:46},{date:"2018/8/1",type:"\u8fd0\u884c\u5185\u5b58",value:22},{date:"2018/8/1",type:"\u78c1\u76d8\u7528\u91cf",value:18},{date:"2018/8/2",type:"cpu",value:61},{date:"2018/8/2",type:"\u8fd0\u884c\u5185\u5b58",value:20},{date:"2018/8/2",type:"\u78c1\u76d8\u7528\u91cf",value:25},{date:"2018/8/3",type:"cpu",value:50},{date:"2018/8/3",type:"\u8fd0\u884c\u5185\u5b58",value:29},{date:"2018/8/3",type:"\u78c1\u76d8\u7528\u91cf",value:28},{date:"2018/8/4",type:"cpu",value:6},{date:"2018/8/4",type:"\u8fd0\u884c\u5185\u5b58",value:45},{date:"2018/8/4",type:"\u78c1\u76d8\u7528\u91cf",value:42},{date:"2018/8/5",type:"cpu",value:64},{date:"2018/8/5",type:"\u8fd0\u884c\u5185\u5b58",value:82},{date:"2018/8/5",type:"\u78c1\u76d8\u7528\u91cf",value:61},{date:"2018/8/6",type:"cpu",value:18},{date:"2018/8/6",type:"\u8fd0\u884c\u5185\u5b58",value:20},{date:"2018/8/6",type:"\u78c1\u76d8\u7528\u91cf",value:27},{date:"2018/8/7",type:"cpu",value:42},{date:"2018/8/7",type:"\u8fd0\u884c\u5185\u5b58",value:12},{date:"2018/8/7",type:"\u78c1\u76d8\u7528\u91cf",value:25}]),t=Object(U.a)(e,2),n=t[0],s=(t[1],{data:n,xField:"date",yField:"value",yAxis:{label:{formatter:function(e){return"".concat(e).replace(/\d{1,3}(?=(\d{3})+$)/g,(function(e){return"".concat(e,",")}))}}},legend:{position:"top"},seriesField:"type",color:function(e){var t=e.type;return"register"===t?"#F4664A":"download"===t?"#30BF78":"#FAAD14"},lineStyle:function(e){return"register"===e.type?{lineDash:[4,4],opacity:1}:{opacity:.5}}});return Object(a.jsxs)("div",{style:{height:"100%"},children:[Object(a.jsxs)(g.a,{style:{height:"100%",padding:"10px",textAlign:"center"},children:[Object(a.jsx)(y.a,{span:8,style:{height:"40%",paddingRight:"10px"},children:Object(a.jsx)(V.a,{status:"success",title:"\u6b22\u8fce\u4f7f\u7528DTRUN\u8fc1\u79fb\u7cfb\u7edf",subTitle:"Order number: 2017182818828182881 Cloud server configuration takes 1-5 minutes, please wait.",extra:[Object(a.jsx)(S.a,{type:"primary",children:Object(a.jsx)(o.b,{to:"/datasource/show",children:"\u521b\u5efa\u6570\u636e\u6e90"})},"console"),Object(a.jsx)(S.a,{children:"\u4f7f\u7528\u6559\u7a0b"},"buy")]})}),Object(a.jsx)(y.a,{span:16,children:Object(a.jsx)(z.a,Object(M.a)(Object(M.a)({},s),{},{style:{maxHeight:"400px",height:"40%",minHeight:"200px"}}))})]}),Object(a.jsx)(g.a,{})]})};function G(){return(G=Object(F.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("/dtsource/findAll","get",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(F.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("/dtsource/connection","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(F.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("/dtsource/delete","delete",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(F.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("/dtsource/testconnection","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(F.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("/dtsource/create","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return(Y=Object(F.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("/dtsource/getDtSourceById","get",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=Object(F.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("/dtsource/update","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(F.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("/dtsource/getAllDtSourceName","get",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(F.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("/dtsource/getBucketLists","get",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(F.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("/dtsource/createBucket","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se=n(629),re=n(375),ce=n(620),ie=n(404),oe=function(e){var t=Object(p.useState)([]),n=Object(U.a)(t,2),s=n[0],r=n[1],c=Object(p.useState)([]),i=Object(U.a)(c,2),o=i[0],u=i[1],l=Object(p.useState)(!1),d=Object(U.a)(l,2),j=d[0],h=d[1],b=Object(p.useState)(!1),O=Object(U.a)(b,2),m=O[0],x=O[1],g=Object(p.useState)(!1),y=Object(U.a)(g,2),v=y[0],w=y[1],k=Object(p.useState)(""),C=Object(U.a)(k,2),I=C[0],N=C[1],B=Object(p.useState)([]),F=Object(U.a)(B,2),T=F[0],D=F[1];Object(p.useEffect)((function(){L()}),[]);var L=function(){x(!0),function(e){return G.apply(this,arguments)}().then((function(e){var t=e.data.message,n=e.data.data;"Success"===t?(r(n),x(!1)):x(!1)}))},R=function(e){x(!0),function(e){return J.apply(this,arguments)}({id:e}).then((function(e){"Success"===e.data.message?(x(!1),f.a.success({message:"\u901a\u77e5",description:"\u6d4b\u8bd5\u6210\u529f",duration:1})):f.a.error({message:"\u901a\u77e5",description:"\u6d4b\u8bd5\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u60a8\u7684\u53c2\u6570\u8bbe\u7f6e",duration:1}),x(!1)}))},A=[{title:"\u6570\u636e\u6e90\u540d\u79f0",dataIndex:"dtSourceName",render:function(t,n){return Object(a.jsx)("span",{style:{color:"#0062FF",cursor:"pointer"},onClick:function(){return t=n.id,void e.history.push("/datasource/update/"+t);var t},children:t})}},{title:"\u6570\u636e\u6e90\u7c7b\u578b",dataIndex:"dtSourceType"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime"},{title:"\u64cd\u4f5c",dataIndex:"option",render:function(e,t){return Object(a.jsxs)(se.b,{size:"middle",children:[Object(a.jsx)("span",{style:{color:"#0062FF",cursor:"pointer",marginRight:"10px"},onClick:function(){return R(t.id)},children:"\u6d4b\u8bd5"}),Object(a.jsx)("span",{style:{color:"#0062FF",cursor:"pointer",marginRight:"10px"},onClick:function(){return function(e,t){var n=T.length;if(n<=1){N("\u60a8\u786e\u5b9a\u8981\u5220\u9664\u6570\u636e\u6e90 "+t+" \u5417?");var a=[];a.push(e),u(a)}else N("\u60a8\u786e\u5b9a\u8981\u5220\u9664\u9009\u4e2d\u7684"+n+"\u9879\u6570\u636e\u6e90\u5417?"),u(T);h(!0)}(t.id,t.dtSourceName)},children:"\u5220\u9664"})]})}}],q={selectedRowKeys:T,onChange:function(e){D(e)}};return Object(a.jsxs)(re.a,{size:"large",spinning:m,children:[Object(a.jsxs)("div",{style:{height:"50px",paddingTop:"10px"},children:[Object(a.jsx)(S.a,{type:"primary",onClick:function(){return L()},style:{background:"#00b4ed",position:"absolute",right:"83px",zIndex:"999",borderRadius:"5px"},children:"\u5237\u65b0"}),Object(a.jsx)(S.a,{type:"primary",onClick:function(){e.history.push("/datasource/create")},style:{background:"#00b4ed",position:"absolute",right:"11px",zIndex:"999",borderRadius:"5px"},children:"\u521b\u5efa"})]}),Object(a.jsx)("div",{style:{height:"10px",background:"#f0f2f5"}}),Object(a.jsxs)("div",{style:{padding:"10px",background:"#ffffff"},children:[Object(a.jsx)("div",{children:Object(a.jsx)(ce.a,{rowSelection:q,bordered:!0,columns:A,dataSource:s,pagination:{showQuickJumper:!0,defaultPageSize:10,pageSizeOptions:[10,20,50,100]}})}),Object(a.jsx)(ie.a,{title:"\u5220\u9664\u6570\u636e\u6e90",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",visible:j,onOk:function(){w(!0),function(e){return E.apply(this,arguments)}({data:{id:o}}).then((function(e){"Success"===e.data.message?(h(!1),w(!1),L(),f.a.success({message:"\u901a\u77e5",description:"\u5220\u9664\u6210\u529f",duration:1})):f.a.error({message:"\u901a\u77e5",description:"\u5220\u9664\u5931\u8d25",duration:1})}))},confirmLoading:v,onCancel:function(){h(!1)},children:Object(a.jsx)("p",{children:I})})]})]})},ue=n(199),le=ue.a.Option,de={labelCol:{span:3},wrapperCol:{span:12}},je={wrapperCol:{offset:3,span:16}},pe=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).formRef=h.a.createRef(),a.onFinish=function(e){(function(e){return _.apply(this,arguments)})({dataSourceName:e.dtsName,dataSourceType:e.dtsType,secretId:e.accessKey,secretKey:e.accessSecret,region:e.region}).then((function(e){"Success"===e.data.message&&a.props.history.push("/datasource/show")}))},a}return Object(l.a)(n,[{key:"test",value:function(){this.formRef.current.validateFields().then((function(e){H({dataSourceType:e.dtsType,accessKey:e.accessKey,accessSecret:e.accessSecret,region:e.region}).then((function(e){"Success"===e.data.message?f.a.success({message:"\u901a\u77e5",description:"\u6d4b\u8bd5\u6210\u529f",duration:1}):f.a.error({message:"\u901a\u77e5",description:"\u6d4b\u8bd5\u5931\u8d25,\u8bf7\u68c0\u67e5\u53c2\u6570",duration:1})}))})).catch((function(e){}))}},{key:"quit",value:function(){this.props.history.goBack()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{style:{padding:"10px"},children:[Object(a.jsx)("h2",{children:"\u521b\u5efa\u6570\u636e\u6e90"}),Object(a.jsx)(g.a,{children:Object(a.jsx)(y.a,{span:24,children:Object(a.jsxs)(v.a,Object(M.a)(Object(M.a)({},de),{},{ref:this.formRef,name:"basic",initialValues:{remember:!0},onFinish:this.onFinish,children:[Object(a.jsx)(v.a.Item,{label:"\u6570\u636e\u6e90\u540d\u79f0",name:"dtsName",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6570\u636e\u6e90\u540d\u79f0"}],children:Object(a.jsx)(w.a,{placeholder:"\u8bf7\u8f93\u5165\u6570\u636e\u6e90\u540d\u79f0"})}),Object(a.jsx)(v.a.Item,{name:"dtsType",label:"\u6570\u636e\u6e90\u7c7b\u578b",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90\u7c7b\u578b"}],children:Object(a.jsxs)(ue.a,{placeholder:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90\u7c7b\u578b",onChange:this.onGenderChange,allowClear:!0,children:[Object(a.jsx)(le,{value:"cos",children:"COS"}),Object(a.jsx)(le,{value:"oss",children:"OSS"}),Object(a.jsx)(le,{value:"obs",children:"OBS"}),Object(a.jsx)(le,{value:"bos",children:"BOS"})]})}),Object(a.jsx)(v.a.Item,{label:"AccessKey",name:"accessKey",rules:[{required:!0,message:"\u8bf7\u8f93\u5165AccessKey"}],children:Object(a.jsx)(w.a,{placeholder:"\u8bf7\u8f93\u5165AccessKey"})}),Object(a.jsx)(v.a.Item,{label:"AccessSecret",name:"accessSecret",rules:[{required:!0,message:"\u8bf7\u8f93\u5165AccessSecret"}],children:Object(a.jsx)(w.a,{placeholder:"\u8bf7\u8f93\u5165AccessSecret"})}),Object(a.jsx)(v.a.Item,{label:"\u5730\u57df",name:"region",rules:[{message:"\u8bf7\u8f93\u5165\u5730\u57df"}],children:Object(a.jsx)(w.a,{placeholder:"\u8bf7\u8f93\u5165\u5730\u57df"})}),Object(a.jsxs)(v.a.Item,Object(M.a)(Object(M.a)({},je),{},{children:[Object(a.jsx)(S.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"},children:"\u786e\u5b9a"}),Object(a.jsx)(S.a,{htmlType:"button",onClick:function(){return e.test()},style:{marginRight:"10px"},children:"\u6d4b\u8bd5"}),Object(a.jsx)(S.a,{htmlType:"button",onClick:function(){return e.quit()},children:"\u53d6\u6d88"})]}))]}))})})]})}}]),n}(h.a.Component),he=ue.a.Option,be={labelCol:{span:3},wrapperCol:{span:12}},Oe={wrapperCol:{offset:3,span:16}},me=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).formRef=h.a.createRef(),a.onFinish=function(e){(function(e){return $.apply(this,arguments)})({id:a.props.match.params.id,dataSourceName:e.dtsName,dataSourceType:e.dtsType,secretId:e.accessKey,secretKey:e.accessSecret,region:e.region}).then((function(e){"Success"===e.data.message?(f.a.success({message:"\u901a\u77e5",description:"\u4fee\u6539\u6210\u529f",duration:1}),a.props.history.push("/datasource/show")):f.a.error({message:"\u901a\u77e5",description:"\u4fee\u6539\u5931\u8d25,\u8bf7\u91cd\u8bd5",duration:1})}))},a}return Object(l.a)(n,[{key:"componentWillMount",value:function(){var e=this;(function(e){return Y.apply(this,arguments)})({id:this.props.match.params.id}).then((function(t){if("Success"===t.data.message){var n=t.data.data,a=JSON.parse(n.dtSourceJson);e.formRef.current.setFieldsValue({dtsName:n.dtSourceName,dtsType:n.dtSourceType,accessKey:a.accessKey,accessSecret:a.accessSecret,region:a.region})}else f.a.error({message:"\u901a\u77e5",description:"\u83b7\u53d6\u6570\u636e\u6e90\u4fe1\u606f\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",duration:1})}))}},{key:"test",value:function(){this.formRef.current.validateFields().then((function(e){H({dataSourceType:e.dtsType,accessKey:e.accessKey,accessSecret:e.accessSecret,region:e.region}).then((function(e){"Success"===e.data.message?f.a.success({message:"\u901a\u77e5",description:"\u6d4b\u8bd5\u6210\u529f",duration:1}):f.a.error({message:"\u901a\u77e5",description:"\u6d4b\u8bd5\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u53c2\u6570",duration:1})}))}))}},{key:"quit",value:function(){this.props.history.goBack()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{style:{padding:"10px"},children:[Object(a.jsx)("h2",{children:"\u4fee\u6539\u6570\u636e\u6e90"}),Object(a.jsx)(g.a,{children:Object(a.jsx)(y.a,{span:24,children:Object(a.jsxs)(v.a,Object(M.a)(Object(M.a)({},be),{},{ref:this.formRef,name:"basic",initialValues:{remember:!0},onFinish:this.onFinish,children:[Object(a.jsx)(v.a.Item,{label:"\u6570\u636e\u6e90\u540d\u79f0",name:"dtsName",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6570\u636e\u6e90\u540d\u79f0"}],children:Object(a.jsx)(w.a,{placeholder:"\u8bf7\u8f93\u5165\u6570\u636e\u6e90\u540d\u79f0"})}),Object(a.jsx)(v.a.Item,{name:"dtsType",label:"\u6570\u636e\u6e90\u7c7b\u578b",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90\u7c7b\u578b"}],children:Object(a.jsxs)(ue.a,{placeholder:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90\u7c7b\u578b",onChange:this.onGenderChange,allowClear:!0,children:[Object(a.jsx)(he,{value:"cos",children:"COS"}),Object(a.jsx)(he,{value:"oss",children:"OSS"}),Object(a.jsx)(he,{value:"obs",children:"OBS"}),Object(a.jsx)(he,{value:"bos",children:"BOS"})]})}),Object(a.jsx)(v.a.Item,{label:"AccessKey",name:"accessKey",rules:[{required:!0,message:"\u8bf7\u8f93\u5165AccessKey"}],children:Object(a.jsx)(w.a,{placeholder:"\u8bf7\u8f93\u5165AccessKey"})}),Object(a.jsx)(v.a.Item,{label:"AccessSecret",name:"accessSecret",rules:[{required:!0,message:"\u8bf7\u8f93\u5165AccessSecret"}],children:Object(a.jsx)(w.a,{placeholder:"\u8bf7\u8f93\u5165AccessSecret"})}),Object(a.jsx)(v.a.Item,{label:"\u5730\u57df",name:"region",rules:[{message:"\u8bf7\u8f93\u5165\u5730\u57df"}],children:Object(a.jsx)(w.a,{placeholder:"\u8bf7\u8f93\u5165\u5730\u57df"})}),Object(a.jsxs)(v.a.Item,Object(M.a)(Object(M.a)({},Oe),{},{children:[Object(a.jsx)(S.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"},children:"\u786e\u5b9a"}),Object(a.jsx)(S.a,{htmlType:"button",onClick:function(){return e.test()},style:{marginRight:"10px"},children:"\u6d4b\u8bd5"}),Object(a.jsx)(S.a,{htmlType:"button",onClick:function(){return e.quit()},children:"\u53d6\u6d88"})]}))]}))})})]})}}]),n}(h.a.Component),xe=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{path:"/datasource/create",component:pe}),Object(a.jsx)(b.b,{path:"/datasource/show",component:oe}),Object(a.jsx)(b.b,{path:"/datasource/update/:id",component:me})]})})}}]),n}(h.a.Component),fe=n(627),ge=n(617),ye=n(388);function ve(e){return we.apply(this,arguments)}function we(){return(we=Object(F.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("/movetask/findAll","get",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){return(ke=Object(F.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("/movetask/delete","delete",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(){return(Se=Object(F.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("/movetask/run","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(){return(Ce=Object(F.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("/movetask/quit","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(){return(Ie=Object(F.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("/movetask/create","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(){return(Ne=Object(F.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("/movetask/getMoveTaskById","get",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(){return(Be=Object(F.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("/movetask/update","post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fe=n(633),Te=fe.a.Step,De=ue.a.Option,Le={labelCol:{span:4},wrapperCol:{span:16}},Re=function(e){var t=Object(p.useState)(!1),n=Object(U.a)(t,2),s=n[0],r=n[1],c=Object(p.useState)(0),i=Object(U.a)(c,2),o=i[0],u=i[1],l=Object(p.useState)({}),d=Object(U.a)(l,2),j=d[0],h=d[1],b=Object(p.useState)(!0),O=Object(U.a)(b,2),m=O[0],x=O[1],g=Object(p.useState)([]),y=Object(U.a)(g,2),C=y[0],I=y[1],N=Object(p.useState)([]),B=Object(U.a)(N,2),F=B[0],T=B[1],D=Object(p.useState)([]),L=Object(U.a)(D,2),R=L[0],A=L[1],q=Object(p.useState)(!1),P=Object(U.a)(q,2),K=P[0],z=(P[1],Object(p.useState)([])),V=Object(U.a)(z,2),W=V[0],G=V[1],J=v.a.useForm(),E=Object(U.a)(J,1)[0];Object(p.useEffect)((function(){r(!0),X().then((function(e){"Success"===e.data.message?I(e.data.data):f.a.error({message:"\u901a\u77e5",description:"\u83b7\u53d6\u6570\u636e\u6e90\u5217\u8868\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u6570\u636e\u6e90\u914d\u7f6e",duration:2}),r(!1)}))}),[]);var H=function(){u(o-1)},Q=function(){ne({desId:E.getFieldValue("des"),newBucketName:W}).then((function(e){"Success"===e.data.message?(G([]),f.a.success({message:"\u901a\u77e5",description:"\u521b\u5efaBucket\u6210\u529f",duration:2})):f.a.error({message:"\u901a\u77e5",description:"\u521b\u5efaBucket\u5217\u8868\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u914d\u7f6e",duration:2})}))},_=function(e){G(e.target.value)},Y=[{title:"\u9009\u62e9\u8d77\u59cb\u6570\u636e\u6e90",content:Object(a.jsxs)(v.a,Object(M.a)(Object(M.a)({},Le),{},{name:"basic",form:E,onFinish:function(e){h(Object(M.a)(Object(M.a)({},j),{},{src:e,allMove:m})),u(o+1)},children:[Object(a.jsx)(v.a.Item,{label:"\u6570\u636e\u6e90",name:"srcId",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90"}],children:Object(a.jsx)(ue.a,{placeholder:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90",allowClear:!0,showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},onChange:function(e){E.setFieldsValue({srcBucket:void 0}),T([]),ee({id:e}).then((function(e){"Success"===e.data.message?T(e.data.data):f.a.error({message:"\u901a\u77e5",description:"\u83b7\u53d6Bucket\u5217\u8868\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u6570\u636e\u6e90\u914d\u7f6e",duration:2})}))},children:C.map((function(e,t){return Object(a.jsx)(De,{value:e.id,children:e.dtSourceName},t)}))})}),Object(a.jsx)(v.a.Item,{name:"srcBucket",label:"Bucket",rules:[{required:!0,message:"\u8bf7\u9009\u62e9Bucket"}],children:Object(a.jsx)(ue.a,{placeholder:"\u8bf7\u9009\u62e9Bucket",allowClear:!0,showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},children:F.map((function(e,t){return Object(a.jsx)(De,{value:e,children:e},t)}))})}),Object(a.jsx)(v.a.Item,{label:"\u5168\u91cf\u8fc1\u79fb",children:Object(a.jsx)(k.a,{onChange:function(){x(!m)},checked:m})}),Object(a.jsxs)(v.a.Item,{children:[Object(a.jsx)(S.a,{type:"primary",htmlType:"submit",style:{margin:"0 10px 0 25%"},children:"\u4e0b\u4e00\u6b65"}),Object(a.jsx)(S.a,{htmlType:"button",onClick:function(){e.history.goBack()},children:"\u53d6\u6d88"})]})]}))},{title:"\u9009\u62e9\u76ee\u7684\u6570\u636e\u6e90",content:Object(a.jsxs)(v.a,Object(M.a)(Object(M.a)({},Le),{},{name:"basic",form:E,onFinish:function(e){h(Object(M.a)(Object(M.a)({},j),{},{des:e})),u(o+1)},children:[Object(a.jsx)(v.a.Item,{label:"\u6570\u636e\u6e90",name:"desId",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90"}],children:Object(a.jsx)(ue.a,{placeholder:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90",allowClear:!0,showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},onChange:function(e){E.setFieldsValue({desBucket:void 0}),A([]),ee({id:e}).then((function(e){"Success"===e.data.message?A(e.data.data):f.a.error({message:"\u901a\u77e5",description:"\u83b7\u53d6Bucket\u5217\u8868\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u6570\u636e\u6e90\u914d\u7f6e",duration:2})}))},children:C.map((function(e,t){return Object(a.jsx)(De,{value:e.id,children:e.dtSourceName},t)}))})}),Object(a.jsx)(v.a.Item,{name:"desBucket",label:"Bucket",rules:[{required:!0,message:"\u8bf7\u9009\u62e9Bucket"}],children:Object(a.jsx)(ue.a,{placeholder:"\u8bf7\u9009\u62e9Bucket",allowClear:!0,showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},dropdownRender:function(e){return Object(a.jsxs)("div",{children:[e,K&&Object(a.jsxs)("div",{children:[Object(a.jsx)(ge.a,{style:{margin:"4px 0"}}),Object(a.jsxs)("div",{style:{display:"flex",flexWrap:"nowrap",padding:8},children:[Object(a.jsx)(w.a,{style:{flex:"auto"},value:W,onChange:_}),Object(a.jsxs)("a",{style:{flex:"none",padding:"8px",display:"block",cursor:"pointer"},onClick:Q,children:[Object(a.jsx)(Fe.a,{})," \u521b\u5efaBucket"]})]})]})]})},children:R.map((function(e,t){return Object(a.jsx)(De,{value:e,children:e},t)}))})}),Object(a.jsxs)(v.a.Item,{children:[Object(a.jsx)(S.a,{type:"primary",htmlType:"submit",style:{margin:"0 10px 0 25%"},children:"\u4e0b\u4e00\u6b65"}),Object(a.jsx)(S.a,{type:"primary",htmlType:"button",onClick:H,children:"\u4e0a\u4e00\u6b65"})]})]}))},{title:"\u53c2\u6570\u8bbe\u7f6e",content:Object(a.jsxs)(v.a,Object(M.a)(Object(M.a)({},Le),{},{name:"basic",onFinish:function(t){var n=Object(M.a)(Object(M.a)({},j),{},{option:t});(function(e){return Ie.apply(this,arguments)})({srcId:n.src.srcId,srcBucket:n.src.srcBucket,desId:n.des.desId,desBucket:n.des.desBucket,allMove:n.allMove,taskName:n.option.taskName}).then((function(t){"Success"===t.data.message?(f.a.success({message:"\u901a\u77e5",description:"\u521b\u5efa\u8fc1\u79fb\u4efb\u52a1\u6210\u529f",duration:2}),e.history.push("/movetask/show")):f.a.error({message:"\u901a\u77e5",description:"\u521b\u5efa\u8fc1\u79fb\u4efb\u52a1\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u914d\u7f6e",duration:2})}))},children:[Object(a.jsx)(v.a.Item,{label:"\u4efb\u52a1\u540d\u79f0",name:"taskName",rules:[{required:!0,message:"\u8bf7\u9009\u62e9Bucket"}],children:Object(a.jsx)(w.a,{placeholder:"\u8bf7\u8f93\u5165\u4efb\u52a1\u540d\u79f0"})}),Object(a.jsxs)(v.a.Item,{children:[Object(a.jsx)(S.a,{type:"primary",htmlType:"submit",style:{margin:"0 10px 0 25%"},children:"\u786e\u5b9a"}),Object(a.jsx)(S.a,{type:"primary",htmlType:"button",onClick:H,children:"\u4e0a\u4e00\u6b65"})]})]}))}];return Object(a.jsxs)(re.a,{size:"large",spinning:s,children:[Object(a.jsx)(fe.a,{forcerender:"true",progressDot:function(e,t){t.status;var n=t.index;return Object(a.jsx)(ye.a,{content:Object(a.jsxs)("span",{children:["step ",n]}),children:e})},current:o,children:Y.map((function(e){return Object(a.jsx)(Te,{title:e.title},e.title)}))}),Object(a.jsxs)("div",{className:"steps-content",children:[Y[o].content,Object(a.jsx)("div",{className:"steps-action"})]})]})},Ae=n(408),qe=n(630),Pe=n(618),Ke=n(634),Me=n(635),Ue=n(636),ze=n(637),Ve=n(638),We=function(e){var t=Object(p.useState)([]),n=Object(U.a)(t,2),s=n[0],r=n[1],c=Object(p.useState)([]),i=Object(U.a)(c,2),o=i[0],u=i[1],l=Object(p.useState)(!1),d=Object(U.a)(l,2),j=d[0],h=d[1],b=Object(p.useState)(!1),O=Object(U.a)(b,2),m=O[0],x=O[1],g=Object(p.useState)(!1),y=Object(U.a)(g,2),v=y[0],w=y[1],k=Object(p.useState)(""),C=Object(U.a)(k,2),I=C[0],N=C[1],B=Object(p.useState)([]),F=Object(U.a)(B,2),T=F[0],D=F[1];Object(p.useEffect)((function(){L(!0);var e=setInterval((function(){L(!1)}),5e3);return function(){clearInterval(e)}}),[]);var L=function(e){e?(x(!0),ve().then((function(e){var t=e.data.message,n=e.data.data;"Success"===t?(r(n),x(!1)):f.a.error({message:"\u901a\u77e5",description:"\u83b7\u53d6\u4efb\u52a1\u5217\u8868\u5931\u8d25",duration:2})}))):ve().then((function(e){var t=e.data.message,n=e.data.data;"Success"===t?r(n):f.a.error({message:"\u901a\u77e5",description:"\u83b7\u53d6\u4efb\u52a1\u5217\u8868\u5931\u8d25",duration:2})}))},R=function(e){w(!0),function(e){return Se.apply(this,arguments)}({id:e}).then((function(e){"Success"===e.data.message?(w(!1),D([]),L(),Ae.b.success("\u542f\u52a8\u6210\u529f")):Ae.b.error("\u542f\u52a8\u5931\u8d25")}))},A=function(e){w(!0),function(e){return Ce.apply(this,arguments)}({id:e}).then((function(e){"Success"===e.data.message?(w(!1),D([]),L(),Ae.b.success("\u53d6\u6d88\u6210\u529f")):Ae.b.error("\u53d6\u6d88\u5931\u8d25")}))},q=[{title:"\u8fc1\u79fb\u4efb\u52a1\u540d\u79f0",dataIndex:"taskName",render:function(t,n){return Object(a.jsx)("span",{style:{color:"#0062FF",cursor:"pointer",disable:"true"},onClick:function(){return t=n.id,void("RUNNING"!==n.status?e.history.push("/movetask/update/"+t):Ae.b.error("\u6b63\u5728\u8fd0\u884c\u4e2d\u7684\u4efb\u52a1\u65e0\u6cd5\u7f16\u8f91"));var t},children:t})}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime"},{title:"\u66f4\u65b0\u65f6\u95f4",dataIndex:"updateTime"},{title:"\u5f53\u524d\u72b6\u6001",dataIndex:"status",render:function(e,t){return"READY"===e?Object(a.jsx)(qe.a,{icon:Object(a.jsx)(Ke.a,{}),color:"cyan",children:"\u51c6\u5907\u5c31\u7eea"}):"FINISH"===e?Object(a.jsx)(qe.a,{icon:Object(a.jsx)(Me.a,{}),color:"success",children:"\u5df2\u5b8c\u6210"}):"RUNNING"===e?Object(a.jsx)(qe.a,{icon:Object(a.jsx)(Ue.a,{spin:!0}),color:"processing",children:"\u8fd0\u884c\u4e2d"}):"QUIT"===e?Object(a.jsx)(qe.a,{icon:Object(a.jsx)(ze.a,{}),color:"orange",children:"\u5df2\u53d6\u6d88"}):Object(a.jsx)(qe.a,{icon:Object(a.jsx)(Ve.a,{}),color:"error",children:"\u6267\u884c\u5931\u8d25"})}},{title:"\u6267\u884c\u6b21\u6570",dataIndex:"runCount"},{title:"\u64cd\u4f5c",dataIndex:"option",render:function(e,t){return Object(a.jsxs)(se.b,{size:"middle",children:["RUNNING"===t.status?Object(a.jsx)(Pe.a,{title:"\u786e\u5b9a\u53d6\u6d88\u8fc1\u79fb\u4efb\u52a1\u5417?",onConfirm:function(){return A(t.id)},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",children:Object(a.jsx)("span",{style:{color:"#0062FF",cursor:"pointer",marginRight:"10px"},children:"\u53d6\u6d88"})}):Object(a.jsx)(Pe.a,{title:"\u786e\u5b9a\u542f\u52a8\u8fc1\u79fb\u4efb\u52a1\u5417?",onConfirm:function(){return R(t.id)},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",children:Object(a.jsx)("span",{style:{color:"#0062FF",cursor:"pointer",marginRight:"10px"},children:"\u542f\u52a8"})}),Object(a.jsx)("span",{style:{color:"#0062FF",cursor:"pointer",marginRight:"10px"},children:"\u67e5\u770b\u7ed3\u679c"}),Object(a.jsx)("span",{style:{color:"#0062FF",cursor:"pointer",marginRight:"10px"},onClick:function(){return function(e,t,n){if("RUNNING"!==t){var a=T.length;if(a<=1){N("\u60a8\u786e\u5b9a\u8981\u5220\u9664\u8fc1\u79fb\u4efb\u52a1 "+n+" \u5417?");var s=[];s.push(e),u(s)}else N("\u60a8\u786e\u5b9a\u8981\u5220\u9664\u9009\u4e2d\u7684"+a+"\u9879\u8fc1\u79fb\u4efb\u52a1\u5417?"),u(T);h(!0)}else Ae.b.error("\u6b63\u5728\u8fd0\u884c\u4e2d\u7684\u4efb\u52a1\u65e0\u6cd5\u5220\u9664")}(t.id,t.status,t.taskName)},children:"\u5220\u9664"})]})}}],P={selectedRowKeys:T,onChange:function(e){D(e)},getCheckboxProps:function(e){return{disabled:"RUNNING"===e.status}}};return Object(a.jsxs)(re.a,{size:"large",spinning:m,children:[Object(a.jsxs)("div",{style:{height:"50px",paddingTop:"10px"},children:[Object(a.jsx)(S.a,{type:"primary",onClick:function(){return L(!0)},style:{background:"#00b4ed",position:"absolute",right:"83px",zIndex:"999",borderRadius:"5px"},children:"\u5237\u65b0"}),Object(a.jsx)(S.a,{type:"primary",onClick:function(){e.history.push("/movetask/create")},style:{background:"#00b4ed",position:"absolute",right:"11px",zIndex:"999",borderRadius:"5px"},children:"\u521b\u5efa"})]}),Object(a.jsx)("div",{style:{height:"10px",background:"#f0f2f5"}}),Object(a.jsxs)("div",{style:{padding:"10px",background:"#ffffff"},children:[Object(a.jsx)("div",{children:Object(a.jsx)(ce.a,{rowSelection:P,bordered:!0,columns:q,dataSource:s,pagination:{showQuickJumper:!0,defaultPageSize:10,pageSizeOptions:[10,20,50,100]}})}),Object(a.jsx)(ie.a,{title:"\u5220\u9664\u8fc1\u79fb\u4efb\u52a1",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",visible:j,onOk:function(){w(!0),function(e){return ke.apply(this,arguments)}({data:{id:o}}).then((function(e){"Success"===e.data.message?(h(!1),w(!1),D([]),L(),f.a.success({message:"\u901a\u77e5",description:"\u5220\u9664\u6210\u529f",duration:1})):f.a.error({message:"\u901a\u77e5",description:"\u5220\u9664\u5931\u8d25",duration:1})}))},confirmLoading:v,onCancel:function(){h(!1)},children:Object(a.jsx)("p",{children:I})})]})]})},Ge=fe.a.Step,Je=ue.a.Option,Ee={labelCol:{span:4},wrapperCol:{span:16}},He=function(e){var t=Object(p.useState)(!1),n=Object(U.a)(t,2),s=n[0],r=n[1],c=Object(p.useState)(0),i=Object(U.a)(c,2),o=i[0],u=i[1],l=Object(p.useState)({}),d=Object(U.a)(l,2),j=d[0],h=d[1],b=Object(p.useState)(!0),O=Object(U.a)(b,2),m=O[0],x=O[1],g=Object(p.useState)([]),y=Object(U.a)(g,2),C=y[0],I=y[1],N=Object(p.useState)([]),B=Object(U.a)(N,2),F=B[0],T=B[1],D=Object(p.useState)([]),L=Object(U.a)(D,2),R=L[0],A=L[1],q=Object(p.useState)(!1),P=Object(U.a)(q,2),K=P[0],z=P[1],V=Object(p.useState)([]),W=Object(U.a)(V,2),G=W[0],J=W[1],E=v.a.useForm(),H=Object(U.a)(E,1)[0];Object(p.useEffect)((function(){r(!0),X().then((function(e){"Success"===e.data.message?I(e.data.data):f.a.error({message:"\u901a\u77e5",description:"\u83b7\u53d6\u6570\u636e\u6e90\u5217\u8868\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u6570\u636e\u6e90\u914d\u7f6e",duration:2}),r(!1)})),function(e){return Ne.apply(this,arguments)}({id:e.match.params.id}).then((function(e){var t=e.data.message,n=e.data.data;if("Success"===t){var a=JSON.parse(n.taskJson);H.setFieldsValue({srcBucket:a.srcBucket}),H.setFieldsValue({desBucket:a.desBucket}),x("false"!==a.allMove),H.setFieldsValue({srcId:parseInt(a.srcId)}),H.setFieldsValue({desId:parseInt(a.desId)}),H.setFieldsValue({taskName:n.taskName})}else f.a.error({message:"\u901a\u77e5",description:"\u83b7\u53d6\u8fc1\u79fb\u4efb\u52a1\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u914d\u7f6e",duration:2});r(!1)}))}),[]);var Q=function(){u(o-1)},_=function(e){H.setFieldsValue({desBucket:void 0}),A([]),ee({id:e}).then((function(e){"Success"===e.data.message?(A(e.data.data),z(!0)):(z(!1),f.a.error({message:"\u901a\u77e5",description:"\u83b7\u53d6Bucket\u5217\u8868\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u6570\u636e\u6e90\u914d\u7f6e",duration:2}))}))},Y=function(){var e=H.getFieldValue("desId");ne({desId:e,newBucketName:G}).then((function(t){"Success"===t.data.message?(J([]),f.a.success({message:"\u901a\u77e5",description:"\u521b\u5efaBucket\u6210\u529f",duration:2}),_(e)):f.a.error({message:"\u901a\u77e5",description:"\u521b\u5efaBucket\u5217\u8868\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u914d\u7f6e",duration:2})}))},$=function(e){J(e.target.value)},Z=[{title:"\u9009\u62e9\u8d77\u59cb\u6570\u636e\u6e90",content:Object(a.jsxs)(v.a,Object(M.a)(Object(M.a)({},Ee),{},{name:"basic",form:H,onFinish:function(e){h(Object(M.a)(Object(M.a)({},j),{},{src:e,allMove:m})),u(o+1)},children:[Object(a.jsx)(v.a.Item,{label:"\u8d77\u59cb",name:"srcId",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90"}],children:Object(a.jsx)(ue.a,{placeholder:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90",allowClear:!0,showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},onChange:function(e){H.setFieldsValue({srcBucket:void 0}),T([]),ee({id:e}).then((function(e){"Success"===e.data.message?T(e.data.data):f.a.error({message:"\u901a\u77e5",description:"\u83b7\u53d6Bucket\u5217\u8868\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u6570\u636e\u6e90\u914d\u7f6e",duration:2})}))},children:C.map((function(e,t){return Object(a.jsx)(Je,{value:e.id,children:e.dtSourceName},t)}))})}),Object(a.jsx)(v.a.Item,{name:"srcBucket",label:"Bucket",rules:[{required:!0,message:"\u8bf7\u9009\u62e9Bucket"}],children:Object(a.jsx)(ue.a,{placeholder:"\u8bf7\u9009\u62e9Bucket",allowClear:!0,showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},children:F.map((function(e,t){return Object(a.jsx)(Je,{value:e,children:e},t)}))})}),Object(a.jsx)(v.a.Item,{label:"\u5168\u91cf\u8fc1\u79fb",children:Object(a.jsx)(k.a,{onChange:function(){x(!m)},checked:m})}),Object(a.jsxs)(v.a.Item,{children:[Object(a.jsx)(S.a,{type:"primary",htmlType:"submit",style:{margin:"0 10px 0 25%"},children:"\u4e0b\u4e00\u6b65"}),Object(a.jsx)(S.a,{htmlType:"button",onClick:function(){e.history.goBack()},children:"\u53d6\u6d88"})]})]}))},{title:"\u9009\u62e9\u76ee\u7684\u6570\u636e\u6e90",content:Object(a.jsxs)(v.a,Object(M.a)(Object(M.a)({},Ee),{},{name:"basic",form:H,onFinish:function(e){h(Object(M.a)(Object(M.a)({},j),{},{des:e})),u(o+1)},children:[Object(a.jsx)(v.a.Item,{label:"\u76ee\u7684\u6570\u636e\u6e90",name:"desId",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90"}],children:Object(a.jsx)(ue.a,{placeholder:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90",allowClear:!0,showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},onChange:_,children:C.map((function(e,t){return Object(a.jsx)(Je,{value:e.id,children:e.dtSourceName},t)}))})}),Object(a.jsx)(v.a.Item,{name:"desBucket",label:"Bucket",rules:[{required:!0,message:"\u8bf7\u9009\u62e9Bucket"}],children:Object(a.jsx)(ue.a,{placeholder:"\u8bf7\u9009\u62e9Bucket",allowClear:!0,showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},dropdownRender:function(e){return Object(a.jsxs)("div",{children:[e,K&&Object(a.jsxs)("div",{children:[Object(a.jsx)(ge.a,{style:{margin:"4px 0"}}),Object(a.jsxs)("div",{style:{display:"flex",flexWrap:"nowrap",padding:8},children:[Object(a.jsx)(w.a,{style:{flex:"auto"},value:G,onChange:$}),Object(a.jsxs)("a",{style:{flex:"none",padding:"8px",display:"block",cursor:"pointer"},onClick:Y,children:[Object(a.jsx)(Fe.a,{})," \u521b\u5efaBucket"]})]})]})]})},children:R.map((function(e,t){return Object(a.jsx)(Je,{value:e,children:e},t)}))})}),Object(a.jsxs)(v.a.Item,{children:[Object(a.jsx)(S.a,{type:"primary",htmlType:"submit",style:{margin:"0 10px 0 25%"},children:"\u4e0b\u4e00\u6b65"}),Object(a.jsx)(S.a,{type:"primary",htmlType:"button",onClick:Q,children:"\u4e0a\u4e00\u6b65"})]})]}))},{title:"\u53c2\u6570\u8bbe\u7f6e",content:Object(a.jsxs)(v.a,Object(M.a)(Object(M.a)({},Ee),{},{name:"basic",onFinish:function(t){var n=Object(M.a)(Object(M.a)({},j),{},{option:t});(function(e){return Be.apply(this,arguments)})({id:e.match.params.id,srcId:n.src.srcId,srcBucket:n.src.srcBucket,desId:n.des.desId,desBucket:n.des.desBucket,allMove:n.allMove,taskName:n.option.taskName}).then((function(t){"Success"===t.data.message?(f.a.success({message:"\u901a\u77e5",description:"\u4fee\u6539\u8fc1\u79fb\u4efb\u52a1\u6210\u529f",duration:2}),e.history.push("/movetask/show")):f.a.error({message:"\u901a\u77e5",description:"\u4fee\u6539\u8fc1\u79fb\u4efb\u52a1\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u914d\u7f6e",duration:2})}))},children:[Object(a.jsx)(v.a.Item,{label:"\u4efb\u52a1\u540d\u79f0",name:"taskName",rules:[{required:!0,message:"\u8bf7\u9009\u62e9Bucket"}],children:Object(a.jsx)(w.a,{placeholder:"\u8bf7\u8f93\u5165\u4efb\u52a1\u540d\u79f0"})}),Object(a.jsxs)(v.a.Item,{children:[Object(a.jsx)(S.a,{type:"primary",htmlType:"submit",style:{margin:"0 10px 0 25%"},children:"\u786e\u5b9a"}),Object(a.jsx)(S.a,{type:"primary",htmlType:"button",onClick:Q,children:"\u4e0a\u4e00\u6b65"})]})]}))}];return Object(a.jsxs)(re.a,{size:"large",spinning:s,children:[Object(a.jsx)(fe.a,{forcerender:"true",progressDot:function(e,t){t.status;var n=t.index;return Object(a.jsx)(ye.a,{content:Object(a.jsxs)("span",{children:["step ",n]}),children:e})},current:o,children:Z.map((function(e){return Object(a.jsx)(Ge,{title:e.title},e.title)}))}),Object(a.jsxs)("div",{className:"steps-content",children:[Z[o].content,Object(a.jsx)("div",{className:"steps-action"})]})]})},Qe=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{path:"/movetask/show",component:We}),Object(a.jsx)(b.b,{path:"/movetask/create",component:Re}),Object(a.jsx)(b.b,{path:"/movetask/update/:id",component:He}),Object(a.jsx)(b.a,{to:"/movetask/show"})]})})}}]),n}(h.a.Component),_e=function(){return Object(a.jsxs)("div",{style:{textAlign:"center",height:"100%",padding:"10px"},children:[Object(a.jsx)(g.a,{style:{height:"52%"},children:Object(a.jsx)(y.a,{span:24,style:{height:"100%"},children:Object(a.jsx)("img",{src:"https://gw.alipayobjects.com/mdn/rms_ae7ad9/afts/img/A*-wAhRYnWQscAAAAAAAAAAABkARQnAQ",height:"100%"})})}),Object(a.jsx)(g.a,{style:{height:"5%",margin:"5px 0"},children:Object(a.jsxs)(y.a,{span:24,children:[Object(a.jsx)("div",{children:"DTRUN\u8fc1\u79fb\u7cfb\u7edf\u662f\u4e00\u4e2a\u65e0\u4fb5\u5165\u5f0f\u7684\u5bf9\u8c61\u5b58\u50a8\u8fc1\u79fb\u7cfb\u7edf,\u5b83\u53ef\u4ee5\u5c06\u4e0d\u540c\u5e73\u53f0\u7684\u5bf9\u8c61\u5b58\u50a8\u6570\u636e\u8fdb\u884c\u5e73\u884c\u8fc1\u79fb"}),Object(a.jsx)("span",{children:"\u5728\u6570\u636e\u8fdb\u884c\u8fc1\u79fb\u7684\u65f6\u5019\u4e0d\u4f1a\u5f71\u54cd\u60a8\u4e1a\u52a1\u7684\u6b63\u5e38\u4f7f\u7528\u5e76\u4e14\u60a8\u65e0\u9700\u5173\u6ce8\u8fc7\u7a0b,\u5f53\u8fc1\u79fb\u4efb\u52a1\u5b8c\u6210\u540e,\u60a8\u5c06\u4f1a\u6536\u5230\u901a\u77e5"})]})}),Object(a.jsxs)(g.a,{style:{height:"40%"},children:[Object(a.jsxs)(y.a,{span:6,children:[Object(a.jsx)("img",{src:"https://cdn.jsdelivr.net/gh/WendyBoys/oss/img/1.png",height:"80%"}),Object(a.jsx)("div",{children:"\u652f\u6301\u591a\u79cd\u6570\u636e\u6e90\u8fc1\u79fb"})]}),Object(a.jsxs)(y.a,{span:6,children:[Object(a.jsx)("img",{src:"https://cdn.jsdelivr.net/gh/WendyBoys/oss/img/2.png",height:"80%"}),Object(a.jsx)("div",{children:"\u7b80\u5355\u914d\u7f6e\uff0c\u5f00\u7bb1\u5373\u7528"})]}),Object(a.jsxs)(y.a,{span:6,children:[Object(a.jsx)("img",{src:"https://cdn.jsdelivr.net/gh/WendyBoys/oss/img/4.png",height:"80%"}),Object(a.jsx)("div",{children:"\u81ea\u52a8\u5316\u8fc1\u79fb\uff0c\u65e0\u9700\u4eba\u5de5\u4e8c\u6b21\u5e72\u9884"})]}),Object(a.jsxs)(y.a,{span:6,children:[Object(a.jsx)("img",{src:"https://cdn.jsdelivr.net/gh/WendyBoys/oss/img/5.png",height:"80%"}),Object(a.jsx)("div",{children:"\u65e0\u4fb5\u5165\u5f0f\u8bbe\u8ba1,\u8fc1\u79fb\u65f6\u4e0d\u5f71\u54cd\u4e1a\u52a1\u4f7f\u7528"})]})]}),Object(a.jsx)(g.a,{style:{height:"3%"},children:Object(a.jsx)(y.a,{span:24,children:Object(a.jsx)("span",{children:"\xa9 20017-2021 Dtrun.cn \u7248\u6743\u6240\u6709"})})})]})},Ye=n(401),$e=n(167),Xe=n(619),Ze=n(625),et=n(623),tt=n(622),nt=n(628),at=n(639),st=n(640),rt=n(641),ct=n(642),it=n(643),ot=n(644),ut=n(645),lt=n(646),dt=n(647),jt=$e.a.SubMenu,pt=Xe.a.Header,ht=Xe.a.Content,bt=Xe.a.Sider,Ot={wrapperCol:{offset:5,span:15}},mt={labelCol:{span:5},wrapperCol:{span:15}},xt={token:x.a.load("token")},ft=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).onFinish=function(e){(function(e){return P.apply(this,arguments)})({oldPassword:e.oldPassword,newPassword:e.newPassword}).then((function(e){"Success"===e.data.message?(a.setState({passwordDrawer:!1,mainDrawerWidth:250}),f.a.success({message:"\u901a\u77e5",description:"\u4fee\u6539\u6210\u529f",duration:1})):f.a.error({message:"\u901a\u77e5",description:"\u65e7\u5bc6\u7801\u9519\u8bef,\u8bf7\u91cd\u65b0\u8f93\u5165",duration:1})}))},a.showMainDrawer=function(){a.setState({mainDrawer:!0})},a.onMainDrawerClose=function(){a.setState({mainDrawer:!1})},a.showMessageDrawer=function(){a.setState({messageDrawer:!0,mainDrawerWidth:470})},a.onMessageDrawerClose=function(){a.setState({messageDrawer:!1,mainDrawerWidth:250})},a.showPasswordDrawer=function(){a.setState({passwordDrawer:!0,mainDrawerWidth:470})},a.onPasswordDrawerClose=function(){a.setState({passwordDrawer:!1,mainDrawerWidth:250})},a.handleChange=function(e){if("uploading"!==e.file.status){if("done"===e.file.status){var t=e.fileList[a.state.index].response;"Success"===t.message?(a.setState({iconUrl:t.data}),a.setState({iconLoading:!1}),Ae.b.success("\u4fee\u6539\u5934\u50cf\u6210\u529f")):Ae.b.error("\u4fee\u6539\u5934\u50cf\u5931\u8d25"),a.setState({index:a.state.index+1})}}else a.setState({iconLoading:!0})},a.state={userName:"",iconUrl:"",mainDrawer:!1,mainDrawerWidth:250,messageDrawer:!1,passwordDrawer:!1,placement:"right",loading:!1,iconLoading:!1,index:0},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),function(e){return q.apply(this,arguments)}().then((function(t){if("Success"===t.data.message){var n=t.data.data;e.setState({userName:n.userName,iconUrl:n.iconUrl,loading:!1})}else f.a.error({message:"\u901a\u77e5",description:"\u670d\u52a1\u5668\u8fde\u63a5\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",duration:2})}))}},{key:"logout",value:function(){x.a.remove("token",{path:"/"}),this.props.history.push("/login"),f.a.success({message:"\u901a\u77e5",description:"\u6ce8\u9500\u6210\u529f",duration:2})}},{key:"quit",value:function(){this.setState({passwordDrawer:!1,mainDrawerWidth:250})}},{key:"beforeUpload",value:function(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||Ae.b.error("\u4ec5\u652f\u6301JPG\u548cPNG\u6587\u4ef6");var n=e.size/1024/1024<2;return n||Ae.b.error("\u56fe\u7247\u5927\u5c0f\u4e0d\u5f97\u5927\u4e8e2MB"),t&&n}},{key:"render",value:function(){var e=this,t=this.state,n=t.userName,s=t.iconUrl,r=t.placement,c=t.mainDrawer,i=t.mainDrawerWidth,u=t.loading,l=t.iconLoading;return Object(a.jsxs)("div",{style:{height:"100%"},children:[Object(a.jsxs)(Ze.a,{title:"\u6b22\u8fce\u56de\u6765\uff0c"+n,placement:r,closable:!1,onClose:this.onMainDrawerClose,visible:c,width:i,children:[Object(a.jsx)(re.a,{spinning:l,children:Object(a.jsx)(et.a,{style:{borderRadius:"100%",width:"100%",cursor:"pointer"},width:"202px",height:"202px",src:s})}),Object(a.jsx)("div",{style:{marginLeft:"47px",marginTop:"10px"},children:Object(a.jsx)(Ye.a,{rotate:!0,modalTitle:"\u7f16\u8f91\u56fe\u7247",modalOk:"\u786e\u5b9a",modalCancel:"\u53d6\u6d88",children:Object(a.jsx)(tt.a,{headers:xt,showUploadList:!1,action:"https://api.dtrun.cn/api/user/icon",beforeUpload:this.beforeUpload,onChange:this.handleChange,children:Object(a.jsx)(S.a,{icon:Object(a.jsx)(at.a,{}),children:"\u66f4\u6362\u5934\u50cf"})})})}),Object(a.jsxs)($e.a,{mode:"inline",children:[Object(a.jsx)($e.a.Item,{onClick:this.showMessageDrawer,icon:Object(a.jsx)(st.a,{}),children:"\u4e2a\u4eba\u4e2d\u5fc3"},"1"),Object(a.jsx)($e.a.Item,{onClick:this.showPasswordDrawer,icon:Object(a.jsx)(rt.a,{}),children:"\u4fee\u6539\u5bc6\u7801"},"2"),Object(a.jsx)($e.a.Item,{onClick:function(){return e.logout()},icon:Object(a.jsx)(at.a,{style:{transform:"rotate(90deg)"}}),children:"\u6ce8\u9500"},"3")]}),Object(a.jsx)(Ze.a,{title:"\u4e2a\u4eba\u4e2d\u5fc3",width:400,closable:!1,onClose:this.onMessageDrawerClose,visible:this.state.messageDrawer,children:"\u4e2a\u4eba\u4e2d\u5fc3"}),Object(a.jsx)(Ze.a,{title:"\u4fee\u6539\u5bc6\u7801",width:400,closable:!1,onClose:this.onPasswordDrawerClose,visible:this.state.passwordDrawer,children:Object(a.jsxs)(v.a,Object(M.a)(Object(M.a)({},mt),{},{name:"basic",onFinish:this.onFinish,children:[Object(a.jsx)(v.a.Item,{label:"\u65e7\u5bc6\u7801",name:"oldPassword",rules:[{required:!0,message:"\u8bf7\u8f93\u65e7\u5bc6\u7801"}],children:Object(a.jsx)(w.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u65e7\u5bc6\u7801"})}),Object(a.jsx)(v.a.Item,{label:"\u65b0\u5bc6\u7801",name:"newPassword",rules:[{compare:"11111",required:!0,message:"\u8bf7\u8f93\u65b0\u5bc6\u7801"}],children:Object(a.jsx)("input",{placeholder:"\u8bf7\u8f93\u65b0\u5bc6\u7801",type:"text",id:"basic_dtsName",class:"ant-input",value:""})}),Object(a.jsxs)(v.a.Item,Object(M.a)(Object(M.a)({},Ot),{},{children:[Object(a.jsx)(S.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"},children:"\u786e\u5b9a"}),Object(a.jsx)(S.a,{htmlType:"button",onClick:function(){return e.quit()},children:"\u53d6\u6d88"})]}))]}))})]},r),Object(a.jsxs)(Xe.a,{style:{height:"100%"},children:[Object(a.jsx)(re.a,{spinning:u,size:"large",children:Object(a.jsx)(pt,{className:"header",style:{position:"relative",left:"0",padding:"0",background:"#12202e"},children:Object(a.jsxs)(g.a,{children:[Object(a.jsx)("span",{style:{color:"#ffffff",textAlign:"center",width:"200px",fontSize:"20px"},children:"DTRUN\u8fc1\u79fb\u7cfb\u7edf"}),Object(a.jsxs)("div",{onClick:this.showMainDrawer,style:{position:"absolute",right:"45px",cursor:"pointer"},children:[Object(a.jsx)(nt.a,{size:45,src:s}),Object(a.jsx)("span",{style:{marginLeft:"5px",color:"#ffffff",fontSize:"15px"},children:n})]})]})})}),Object(a.jsxs)(Xe.a,{children:[Object(a.jsx)(bt,{width:200,className:"site-layout-background",style:{overflow:"auto",height:"100vh",position:"fixed",left:0},children:Object(a.jsxs)($e.a,{mode:"inline",style:{height:"100%",borderRight:0},children:[Object(a.jsx)($e.a.Item,{icon:Object(a.jsx)(ct.a,{}),children:Object(a.jsx)(o.b,{to:"/dashboard",children:"\u8fd0\u7ef4\u5927\u76d8"})},"1"),Object(a.jsx)($e.a.Item,{icon:Object(a.jsx)(it.a,{}),children:Object(a.jsx)(o.b,{to:"/datasource/show",children:"\u6570\u636e\u6e90\u7ba1\u7406"})},"2"),Object(a.jsx)($e.a.Item,{icon:Object(a.jsx)(ot.a,{}),children:Object(a.jsx)(o.b,{to:"/movetask",children:"\u8fc1\u79fb\u4efb\u52a1\u7ba1\u7406"})},"3"),Object(a.jsxs)(jt,{icon:Object(a.jsx)(ut.a,{}),title:"\u7cfb\u7edf\u7ba1\u7406",children:[Object(a.jsx)($e.a.Item,{children:"\u7cfb\u7edf\u65e5\u5fd7"},"5"),Object(a.jsx)($e.a.Item,{children:"\u672a\u77e5\u6a21\u5757"},"6"),Object(a.jsx)($e.a.Item,{children:"\u672a\u77e5\u6a21\u5757"},"7"),Object(a.jsx)($e.a.Item,{children:"\u672a\u77e5\u6a21\u5757"},"8")]},"4"),Object(a.jsxs)(jt,{icon:Object(a.jsx)(lt.a,{}),title:"\u63a8\u9001\u914d\u7f6e",children:[Object(a.jsx)($e.a.Item,{children:"\u90ae\u4ef6\u914d\u7f6e"},"10"),Object(a.jsx)($e.a.Item,{children:"\u8054\u7cfb\u4eba\u914d\u7f6e"},"11")]},"9"),Object(a.jsx)($e.a.Item,{icon:Object(a.jsx)(dt.a,{}),children:Object(a.jsx)(o.b,{to:"/about",children:"\u5173\u4e8e\u6211\u4eec"})},"12")]})}),Object(a.jsx)(Xe.a,{style:{padding:"0 14px 14px 14px",height:"100%"},children:Object(a.jsx)(ht,{className:"site-layout-background",style:{marginLeft:200,height:"100%"},children:Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{path:"/dashboard",component:W}),Object(a.jsx)(b.b,{path:"/datasource",component:xe}),Object(a.jsx)(b.b,{path:"/movetask",component:Qe}),Object(a.jsx)(b.b,{path:"/about",component:_e}),Object(a.jsx)(b.a,{to:"/dashboard"})]})})})]})]})]})}}]),n}(h.a.Component),gt=n(648),yt=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).onFinish=function(e){(function(e){return A.apply(this,arguments)})({account:e.account,password:e.password,registerCode:e.registerCode}).then((function(e){var t=e.data.message;"Success"===t&&a.props.history.push("/login"),f.a["Success"===t?"success":"error"]({message:"\u901a\u77e5",description:e.data.data,duration:2})}))},a.state={title:"\u6ce8\u518c"},a}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsxs)(g.a,{style:{marginBottom:"5%",paddingTop:"20px",minHeight:"200px"},children:[Object(a.jsx)(y.a,{span:6}),Object(a.jsx)(y.a,{span:12,children:Object(a.jsx)("img",{src:O,alt:"",width:"100%",height:"200px"})}),Object(a.jsx)(y.a,{span:6})]}),Object(a.jsxs)(g.a,{children:[Object(a.jsx)(y.a,{span:6}),Object(a.jsx)(y.a,{span:12,children:Object(a.jsxs)(v.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:this.onFinish,children:[Object(a.jsx)(v.a.Item,{name:"account",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8d26\u53f7"}],children:Object(a.jsx)(w.a,{prefix:Object(a.jsx)(C.a,{className:"site-form-item-icon"}),placeholder:"\u8d26\u53f7"})}),Object(a.jsx)(v.a.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}],children:Object(a.jsx)(w.a.Password,{prefix:Object(a.jsx)(I.a,{className:"site-form-item-icon"}),type:"password",placeholder:"\u5bc6\u7801"})}),Object(a.jsx)(v.a.Item,{name:"registerCode",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6ce8\u518c\u7801"}],children:Object(a.jsx)(w.a,{prefix:Object(a.jsx)(gt.a,{}),placeholder:"\u6ce8\u518c\u7801"})}),Object(a.jsx)(v.a.Item,{children:Object(a.jsx)(o.b,{className:"login-form-forgot",to:"/login",children:"\u5df2\u6709\u8d26\u53f7\uff1f\u53bb\u767b\u5f55"})}),Object(a.jsx)(v.a.Item,{children:Object(a.jsx)(S.a,{type:"primary",htmlType:"submit",className:"login-form-button",style:{marginBottom:"20px"},children:"\u7acb\u5373\u6ce8\u518c"})})]})}),Object(a.jsx)(y.a,{span:6})]})]})}}]),n}(h.a.Component),vt=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{style:{height:"100%"},children:x.a.load("token")?Object(a.jsx)(b.b,Object(M.a)({},this.props)):Object(a.jsx)(b.a,{to:"/login"})})}}]),n}(p.Component),wt=(n(604),n(605),function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{path:"/register",component:yt}),Object(a.jsx)(b.b,{path:"/login",component:K}),Object(a.jsx)(vt,{exact:!0,path:"/",component:ft}),Object(a.jsx)(vt,{path:"/index",component:ft}),Object(a.jsx)(vt,{path:"/dashboard",component:ft}),Object(a.jsx)(vt,{path:"/datasource",component:ft}),Object(a.jsx)(vt,{path:"/movetask",component:ft}),Object(a.jsx)(vt,{path:"/about",component:ft})]})}}]),n}(h.a.Component)),kt=n(28);i.a.render(Object(a.jsx)(kt.a,{locale:r.a,children:Object(a.jsx)(o.a,{children:Object(a.jsx)(wt,{})})}),document.getElementById("root"))}},[[609,1,2]]]);
//# sourceMappingURL=main.5ee09f5c.chunk.js.map